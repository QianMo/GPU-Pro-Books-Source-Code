<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PowerVR SDK</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<table width="100%">
  <tr>
    <td width="33%">
      <p align="left">&nbsp;<a href="http://www.imgtec.com"><img border="0" src="IMGLogo.jpg" width="200" height="30"></a></p>
    </td>
    <td width="33%">
      <p align="center"><font color="#808080" face="Arial" size="2">PowerVR Software Development Kit</a></font></p>
    </td>
    <td width="34%">
      <p align="right"><a href="http://www.powervr.com"><img border="0" src="PVRlogo.jpg" width="200" height="27"></a></p>
    </td>
  </tr>
</table>
<hr>
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>PVRTVector.h</h1><a href="PVRTVector_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/******************************************************************************</span>
00002 <span class="comment"></span>
00003 <span class="comment"> @File         PVRTVector.h</span>
00004 <span class="comment"></span>
00005 <span class="comment"> @Title        PVRTVector</span>
00006 <span class="comment"></span>
00007 <span class="comment"> @Copyright    Copyright (C)  Imagination Technologies Limited.</span>
00008 <span class="comment"></span>
00009 <span class="comment"> @Platform     ANSI compatible</span>
00010 <span class="comment"></span>
00011 <span class="comment"> @Description  Vector and matrix mathematics library</span>
00012 <span class="comment"></span>
00013 <span class="comment">******************************************************************************/</span>
00014 <span class="preprocessor">#ifndef __PVRTVECTOR_H__</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define __PVRTVECTOR_H__</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include "assert.h"</span>
00018 <span class="preprocessor">#include "<a class="code" href="PVRTGlobal_8h.html">PVRTGlobal.h</a>"</span>
00019 <span class="preprocessor">#include "<a class="code" href="PVRTFixedPoint_8h.html">PVRTFixedPoint.h</a>"</span>
00020 <span class="preprocessor">#include "<a class="code" href="PVRTMatrix_8h.html">PVRTMatrix.h</a>"</span>
00021 <span class="preprocessor">#include &lt;string.h&gt;</span>
00022 <span class="preprocessor">#include &lt;math.h&gt;</span>
00023 
00024 <span class="comment">/*!***************************************************************************</span>
00025 <span class="comment">** Forward Declarations for vector and matrix structs</span>
00026 <span class="comment">****************************************************************************/</span>
00027 <span class="keyword">struct </span><a class="code" href="structPVRTVec4.html">PVRTVec4</a>;
00028 <span class="keyword">struct </span><a class="code" href="structPVRTVec3.html">PVRTVec3</a>;
00029 <span class="keyword">struct </span><a class="code" href="structPVRTMat3.html">PVRTMat3</a>;
00030 <span class="keyword">struct </span><a class="code" href="structPVRTMat4.html">PVRTMat4</a>;
00031 
00032 <span class="comment">/*!***************************************************************************</span>
00033 <span class="comment"> @Function          PVRTLinearEqSolve</span>
00034 <span class="comment"> @Input             pSrc    2D array of floats. 4 Eq linear problem is 5x4</span>
00035 <span class="comment">                            matrix, constants in first column</span>
00036 <span class="comment"> @Input             nCnt    Number of equations to solve</span>
00037 <span class="comment"> @Output            pRes    Result</span>
00038 <span class="comment"> @Description       Solves 'nCnt' simultaneous equations of 'nCnt' variables.</span>
00039 <span class="comment">                    pRes should be an array large enough to contain the</span>
00040 <span class="comment">                    results: the values of the 'nCnt' variables.</span>
00041 <span class="comment">                    This fn recursively uses Gaussian Elimination.</span>
00042 <span class="comment">*****************************************************************************/</span>
00043 <span class="keywordtype">void</span> <a class="code" href="PVRTVector_8h.html#a0">PVRTLinearEqSolve</a>(VERTTYPE * <span class="keyword">const</span> pRes, VERTTYPE ** <span class="keyword">const</span> pSrc, <span class="keyword">const</span> <span class="keywordtype">int</span> nCnt);
00044 
00045 <span class="comment">/*!***************************************************************************</span>
00046 <span class="comment">    ** PVRTVec2 2 component vector</span>
00047 <span class="comment">    ****************************************************************************/</span>
00048 <span class="keyword">struct </span><a class="code" href="structPVRTVec2.html">PVRTVec2</a>
<a name="l00049"></a><a class="code" href="structPVRTVec2.html">00049</a> {
00050     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> x, y;
<a name="l00051"></a><a class="code" href="structPVRTVec2.html#o1">00051</a>     <span class="comment">/*!***************************************************************************</span>
00052 <span class="comment">        ** Constructors</span>
00053 <span class="comment">        ****************************************************************************/</span>
00054     <span class="comment">/*!***************************************************************************</span>
00055 <span class="comment">        @Function           PVRTVec2</span>
00056 <span class="comment">        @Description        Blank constructor.</span>
00057 <span class="comment">        *****************************************************************************/</span>
00058     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>() {}
00059     <span class="comment">/*!***************************************************************************</span>
<a name="l00060"></a><a class="code" href="structPVRTVec2.html#a0">00060</a> <span class="comment">        @Function           PVRTVec2</span>
00061 <span class="comment">        @Input              fX  X component of vector</span>
00062 <span class="comment">        @Input              fY  Y component of vector</span>
00063 <span class="comment">        @Description        Simple constructor from 2 values.</span>
00064 <span class="comment">        *****************************************************************************/</span>
00065     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(VERTTYPE fX, VERTTYPE fY) : x(fX), y(fY) {}
00066     <span class="comment">/*!***************************************************************************</span>
00067 <span class="comment">        @Function           PVRTVec2</span>
<a name="l00068"></a><a class="code" href="structPVRTVec2.html#a1">00068</a> <span class="comment">        @Input              fValue  a component value</span>
00069 <span class="comment">        @Description        Constructor from a single value.</span>
00070 <span class="comment">        *****************************************************************************/</span>
00071     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(VERTTYPE fValue) : x(fValue), y(fValue) {}
00072     <span class="comment">/*!***************************************************************************</span>
00073 <span class="comment">        @Function           PVRTVec2</span>
00074 <span class="comment">        @Input              pVec    an array</span>
<a name="l00075"></a><a class="code" href="structPVRTVec2.html#a2">00075</a> <span class="comment">        @Description        Constructor from an array</span>
00076 <span class="comment">        *****************************************************************************/</span>
00077     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(<span class="keyword">const</span> VERTTYPE* pVec) : x(pVec[0]), y(pVec[1]) {}
00078     <span class="comment">/*!***************************************************************************</span>
00079 <span class="comment">        @Function           PVRTVec2</span>
00080 <span class="comment">        @Input              v3Vec a Vec3</span>
00081 <span class="comment">        @Description        Constructor from a Vec3</span>
<a name="l00082"></a><a class="code" href="structPVRTVec2.html#a3">00082</a> <span class="comment">        *****************************************************************************/</span>
00083     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; v3Vec);
00084     <span class="comment">/*!***************************************************************************</span>
00085 <span class="comment">        ** Operators</span>
00086 <span class="comment">        ****************************************************************************/</span>
00087     <span class="comment">/*!***************************************************************************</span>
00088 <span class="comment">        @Function           +</span>
00089 <span class="comment">        @Input              rhs another Vec2</span>
00090 <span class="comment">        @Returns            result of addition</span>
00091 <span class="comment">        @Description        componentwise addition operator for two Vec2s</span>
00092 <span class="comment">        *****************************************************************************/</span>
00093     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a5">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)<span class="keyword"> const</span>
00094 <span class="keyword">    </span>{
00095         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00096         <span class="keywordflow">return</span> out += rhs;
00097     }
00098     <span class="comment">/*!***************************************************************************</span>
00099 <span class="comment">        @Function           -</span>
<a name="l00100"></a><a class="code" href="structPVRTVec2.html#a5">00100</a> <span class="comment">        @Input              rhs another Vec2</span>
00101 <span class="comment">        @Returns            result of subtraction</span>
00102 <span class="comment">        @Description        componentwise subtraction operator for two Vec2s</span>
00103 <span class="comment">        ****************************************************************************/</span>
00104     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a6">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)<span class="keyword"> const</span>
00105 <span class="keyword">    </span>{
00106         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00107         <span class="keywordflow">return</span> out -= rhs;
00108     }
00109 
00110     <span class="comment">/*!***************************************************************************</span>
00111 <span class="comment">        @Function           +=</span>
<a name="l00112"></a><a class="code" href="structPVRTVec2.html#a6">00112</a> <span class="comment">        @Input              rhs another Vec2</span>
00113 <span class="comment">        @Returns            result of addition</span>
00114 <span class="comment">        @Description        componentwise addition and assignment operator for two Vec2s</span>
00115 <span class="comment">        ****************************************************************************/</span>
00116     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a7">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00117     {
00118         x += rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>;
00119         y += rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>;
00120         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00121     }
00122 
00123     <span class="comment">/*!***************************************************************************</span>
00124 <span class="comment">        @Function           -=</span>
<a name="l00125"></a><a class="code" href="structPVRTVec2.html#a7">00125</a> <span class="comment">        @Input              rhs another Vec2</span>
00126 <span class="comment">        @Returns            result of subtraction</span>
00127 <span class="comment">        @Description        componentwise subtraction and assignment operator for two Vec2s</span>
00128 <span class="comment">        ****************************************************************************/</span>
00129     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a8">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00130     {
00131         x -= rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>;
00132         y -= rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>;
00133         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00134     }
00135 
00136     <span class="comment">/*!***************************************************************************</span>
00137 <span class="comment">        @Function           -</span>
00138 <span class="comment">        @Input              rhs another Vec2</span>
<a name="l00139"></a><a class="code" href="structPVRTVec2.html#a8">00139</a> <span class="comment">        @Returns            result of negation</span>
00140 <span class="comment">        @Description        negation operator for a Vec2</span>
00141 <span class="comment">        ****************************************************************************/</span>
00142     <span class="keyword">friend</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a6">operator- </a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs) { <span class="keywordflow">return</span> <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(-rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>, -rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>); }
00143 
00144     <span class="comment">/*!***************************************************************************</span>
00145 <span class="comment">        @Function           *</span>
00146 <span class="comment">        @Input              lhs scalar</span>
00147 <span class="comment">        @Input              rhs a Vec2</span>
00148 <span class="comment">        @Returns            result of negation</span>
00149 <span class="comment">        @Description        negation operator for a Vec2</span>
00150 <span class="comment">        ****************************************************************************/</span>
00151     <span class="keyword">friend</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp;  rhs)
00152     {
<a name="l00153"></a><a class="code" href="structPVRTVec2.html#n0">00153</a>         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(lhs);
00154         <span class="keywordflow">return</span> out *= rhs;
00155     }
00156 
00157     <span class="comment">/*!***************************************************************************</span>
00158 <span class="comment">        @Function           /</span>
00159 <span class="comment">        @Input              lhs scalar</span>
00160 <span class="comment">        @Input              rhs a Vec2</span>
00161 <span class="comment">        @Returns            result of division</span>
00162 <span class="comment">        @Description        division operator for scalar and Vec2</span>
<a name="l00163"></a><a class="code" href="structPVRTVec2.html#n1">00163</a> <span class="comment">        ****************************************************************************/</span>
00164     <span class="keyword">friend</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp;  rhs)
00165     {
00166         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(lhs);
00167         <span class="keywordflow">return</span> out /= rhs;
00168     }
00169 
00170     <span class="comment">/*!***************************************************************************</span>
00171 <span class="comment">        @Function           *</span>
00172 <span class="comment">        @Input              rhs a scalar</span>
00173 <span class="comment">        @Returns            result of multiplication</span>
00174 <span class="comment">        @Description        componentwise multiplication by scalar for Vec2</span>
00175 <span class="comment">        ****************************************************************************/</span>
00176     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
<a name="l00177"></a><a class="code" href="structPVRTVec2.html#n2">00177</a> <span class="keyword">    </span>{
00178         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00179         <span class="keywordflow">return</span> out *= rhs;
00180     }
00181 
00182     <span class="comment">/*!***************************************************************************</span>
00183 <span class="comment">        @Function           *=</span>
00184 <span class="comment">        @Input              rhs a scalar</span>
00185 <span class="comment">        @Returns            result of multiplication and assignment</span>
00186 <span class="comment">        @Description        componentwise multiplication and assignment by scalar for Vec2</span>
00187 <span class="comment">        ****************************************************************************/</span>
00188     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a10">operator*=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00189     {
<a name="l00190"></a><a class="code" href="structPVRTVec2.html#a9">00190</a>         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x, rhs);
00191         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y, rhs);
00192         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00193     }
00194 
00195     <span class="comment">/*!***************************************************************************</span>
00196 <span class="comment">        @Function           *=</span>
00197 <span class="comment">        @Input              rhs a Vec2</span>
00198 <span class="comment">        @Returns            result of multiplication and assignment</span>
00199 <span class="comment">        @Description        componentwise multiplication and assignment by Vec2 for Vec2</span>
00200 <span class="comment">        ****************************************************************************/</span>
00201     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00202     {
<a name="l00203"></a><a class="code" href="structPVRTVec2.html#a10">00203</a>         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x, rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>);
00204         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y, rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>);
00205         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00206     }
00207 
00208     <span class="comment">/*!***************************************************************************</span>
00209 <span class="comment">        @Function           /</span>
00210 <span class="comment">        @Input              rhs a scalar</span>
00211 <span class="comment">        @Returns            result of division</span>
00212 <span class="comment">        @Description        componentwise division by scalar for Vec2</span>
00213 <span class="comment">        ****************************************************************************/</span>
00214     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00215 <span class="keyword">    </span>{
00216         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
<a name="l00217"></a><a class="code" href="structPVRTVec2.html#a11">00217</a>         <span class="keywordflow">return</span> out /= rhs;
00218     }
00219 
00220     <span class="comment">/*!***************************************************************************</span>
00221 <span class="comment">        @Function           /=</span>
00222 <span class="comment">        @Input              rhs a scalar</span>
00223 <span class="comment">        @Returns            result of division and assignment</span>
00224 <span class="comment">        @Description        componentwise division and assignment by scalar for Vec2</span>
00225 <span class="comment">        ****************************************************************************/</span>
00226     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a13">operator/=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00227     {
00228         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x, rhs);
00229         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y, rhs);
00230         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00231"></a><a class="code" href="structPVRTVec2.html#a12">00231</a>     }
00232 
00233     <span class="comment">/*!***************************************************************************</span>
00234 <span class="comment">        @Function           /=</span>
00235 <span class="comment">        @Input              rhs a Vec2</span>
00236 <span class="comment">        @Returns            result of division and assignment</span>
00237 <span class="comment">        @Description        componentwise division and assignment by Vec2 for Vec2</span>
00238 <span class="comment">        ****************************************************************************/</span>
00239     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a13">operator/=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00240     {
00241         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x, rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>);
00242         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y, rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>);
00243         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00244"></a><a class="code" href="structPVRTVec2.html#a13">00244</a>     }
00245 
00246     <span class="comment">/*!***************************************************************************</span>
00247 <span class="comment">    @Function           ==</span>
00248 <span class="comment">    @Input              rhs a single value</span>
00249 <span class="comment">    @Returns            true if the two vectors are equal</span>
00250 <span class="comment">    @Description        PVRTVec2 equality operator</span>
00251 <span class="comment">    ****************************************************************************/</span>
00252     <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec2.html#a15">operator==</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)<span class="keyword"> const</span>
00253 <span class="keyword">    </span>{
00254         <span class="keywordflow">if</span>(x != rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00255         <span class="keywordflow">if</span>(y != rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00256         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00257     }
<a name="l00258"></a><a class="code" href="structPVRTVec2.html#a14">00258</a> 
00259     <span class="comment">/*!***************************************************************************</span>
00260 <span class="comment">    @Function           !=</span>
00261 <span class="comment">    @Input              rhs a single value</span>
00262 <span class="comment">    @Returns            true if the two vectors are not equal</span>
00263 <span class="comment">    @Description        PVRTVec2 inequality operator</span>
00264 <span class="comment">    ****************************************************************************/</span>
00265     <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec2.html#a16">operator!=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)<span class="keyword"> const</span>
00266 <span class="keyword">    </span>{
00267         <span class="keywordflow">if</span>(x == rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>)
00268             <span class="keywordflow">return</span> <span class="keyword">false</span>;
00269 
00270         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00271     }
<a name="l00272"></a><a class="code" href="structPVRTVec2.html#a15">00272</a> 
00273     <span class="comment">// FUNCTIONS</span>
00274     <span class="comment">/*!***************************************************************************</span>
00275 <span class="comment">        @Function           lenSqr</span>
00276 <span class="comment">        @Returns            the square of the magnitude of the vector</span>
00277 <span class="comment">        @Description        calculates the square of the magnitude of the vector</span>
00278 <span class="comment">        ****************************************************************************/</span>
00279     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec2.html#a17">lenSqr</a>()<span class="keyword"> const</span>
00280 <span class="keyword">    </span>{
00281         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,x)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,y);
00282     }
00283 
00284     <span class="comment">/*!***************************************************************************</span>
00285 <span class="comment">        @Function           length</span>
<a name="l00286"></a><a class="code" href="structPVRTVec2.html#a16">00286</a> <span class="comment">        @Returns            the of the magnitude of the vector</span>
00287 <span class="comment">        @Description        calculates the magnitude of the vector</span>
00288 <span class="comment">        ****************************************************************************/</span>
00289     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec2.html#a18">length</a>()<span class="keyword"> const</span>
00290 <span class="keyword">    </span>{
00291         <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>) <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y)));
00292     }
00293 
00294     <span class="comment">/*!***************************************************************************</span>
00295 <span class="comment">        @Function           normalize</span>
00296 <span class="comment">        @Returns            the normalized value of the vector</span>
00297 <span class="comment">        @Description        normalizes the vector</span>
00298 <span class="comment">        ****************************************************************************/</span>
00299     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a19">normalize</a>()
00300     {
<a name="l00301"></a><a class="code" href="structPVRTVec2.html#a17">00301</a>         <span class="keywordflow">return</span> *<span class="keyword">this</span> /= <a class="code" href="structPVRTVec2.html#a18">length</a>();
00302     }
00303 
00304     <span class="comment">/*!***************************************************************************</span>
00305 <span class="comment">        @Function           normalized</span>
00306 <span class="comment">        @Returns            returns the normalized value of the vector</span>
00307 <span class="comment">        @Description        returns a normalized vector of the same direction as this</span>
00308 <span class="comment">        vector</span>
00309 <span class="comment">        ****************************************************************************/</span>
00310     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a20">normalized</a>()<span class="keyword"> const</span>
00311 <span class="keyword">    </span>{
<a name="l00312"></a><a class="code" href="structPVRTVec2.html#a18">00312</a>         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00313         <span class="keywordflow">return</span> out.<a class="code" href="structPVRTVec2.html#a19">normalize</a>();
00314     }
00315 
00316     <span class="comment">/*!***************************************************************************</span>
00317 <span class="comment">        @Function           rotated90</span>
00318 <span class="comment">        @Returns            returns the vector rotated 90°</span>
00319 <span class="comment">        @Description        returns the vector rotated 90°</span>
00320 <span class="comment">        ****************************************************************************/</span>
00321     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a21">rotated90</a>()<span class="keyword"> const</span>
00322 <span class="keyword">    </span>{
<a name="l00323"></a><a class="code" href="structPVRTVec2.html#a19">00323</a>         <span class="keywordflow">return</span> <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(-y, x);
00324     }
00325 
00326     <span class="comment">/*!***************************************************************************</span>
00327 <span class="comment">        @Function           dot</span>
00328 <span class="comment">        @Input              rhs a single value</span>
00329 <span class="comment">        @Returns            scalar product</span>
00330 <span class="comment">        @Description        calculate the scalar product of two Vec3s</span>
00331 <span class="comment">        ****************************************************************************/</span>
00332     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec2.html#a22">dot</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00333     {
00334         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x, rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>) + <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y, rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>);
<a name="l00335"></a><a class="code" href="structPVRTVec2.html#a20">00335</a>     }
00336 
00337     <span class="comment">/*!***************************************************************************</span>
00338 <span class="comment">        @Function           ptr</span>
00339 <span class="comment">        @Returns            pointer</span>
00340 <span class="comment">        @Description        returns a pointer to memory containing the values of the</span>
00341 <span class="comment">        Vec3</span>
00342 <span class="comment">        ****************************************************************************/</span>
00343     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTVec2.html#a23">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)<span class="keyword">this</span>; }
00344 };
00345 
00346 <span class="comment">/*!***************************************************************************</span>
<a name="l00347"></a><a class="code" href="structPVRTVec2.html#a21">00347</a> <span class="comment">** PVRTVec3 3 component vector</span>
00348 <span class="comment">****************************************************************************/</span>
00349 <span class="keyword">struct </span><a class="code" href="structPVRTVec3.html">PVRTVec3</a> : <span class="keyword">public</span> <a class="code" href="structPVRTVECTOR3f.html">PVRTVECTOR3</a>
00350 {
00351 <span class="comment">/*!***************************************************************************</span>
00352 <span class="comment">** Constructors</span>
00353 <span class="comment">****************************************************************************/</span>
00354 <span class="comment">/*!***************************************************************************</span>
00355 <span class="comment"> @Function          PVRTVec3</span>
00356 <span class="comment"> @Description       Blank constructor.</span>
00357 <span class="comment">*****************************************************************************/</span>
00358     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(){}
<a name="l00359"></a><a class="code" href="structPVRTVec2.html#a22">00359</a> <span class="comment">/*!***************************************************************************</span>
00360 <span class="comment"> @Function          PVRTVec3</span>
00361 <span class="comment"> @Input             fX  X component of vector</span>
00362 <span class="comment"> @Input             fY  Y component of vector</span>
00363 <span class="comment"> @Input             fZ  Z component of vector</span>
00364 <span class="comment"> @Description       Simple constructor from 3 values.</span>
00365 <span class="comment">*****************************************************************************/</span>
00366     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(VERTTYPE fX, VERTTYPE fY, VERTTYPE fZ)
00367     {
00368         x = fX; y = fY; z = fZ;
00369     }
00370 <span class="comment">/*!***************************************************************************</span>
<a name="l00371"></a><a class="code" href="structPVRTVec2.html#a23">00371</a> <span class="comment"> @Function          PVRTVec3</span>
00372 <span class="comment"> @Input             fValue  a component value</span>
00373 <span class="comment"> @Description       Constructor from a single value.</span>
00374 <span class="comment">*****************************************************************************/</span>
00375     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(<span class="keyword">const</span> VERTTYPE fValue)
00376     {
<a name="l00377"></a><a class="code" href="structPVRTVec3.html">00377</a>         x = fValue; y = fValue; z = fValue;
00378     }
00379 <span class="comment">/*!***************************************************************************</span>
00380 <span class="comment"> @Function          PVRTVec3</span>
00381 <span class="comment"> @Input             pVec    an array</span>
00382 <span class="comment"> @Description       Constructor from an array</span>
00383 <span class="comment">*****************************************************************************/</span>
00384     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(<span class="keyword">const</span> VERTTYPE* pVec)
00385     {
00386         x = (*pVec++); y = (*pVec++); z = *pVec;
<a name="l00387"></a><a class="code" href="structPVRTVec3.html#a0">00387</a>     }
00388 <span class="comment">/*!***************************************************************************</span>
00389 <span class="comment"> @Function          PVRTVec3</span>
00390 <span class="comment"> @Input             v4Vec a PVRTVec4</span>
00391 <span class="comment"> @Description       Constructor from a PVRTVec4</span>
00392 <span class="comment">*****************************************************************************/</span>
00393     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; v4Vec);
00394 <span class="comment">/*!***************************************************************************</span>
00395 <span class="comment">** Operators</span>
<a name="l00396"></a><a class="code" href="structPVRTVec3.html#a1">00396</a> <span class="comment">****************************************************************************/</span>
00397 <span class="comment">/*!***************************************************************************</span>
00398 <span class="comment"> @Function          +</span>
00399 <span class="comment"> @Input             rhs another PVRTVec3</span>
00400 <span class="comment"> @Returns           result of addition</span>
00401 <span class="comment"> @Description       componentwise addition operator for two PVRTVec3s</span>
00402 <span class="comment">*****************************************************************************/</span>
00403     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a5">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
00404 <span class="keyword">    </span>{
00405         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
<a name="l00406"></a><a class="code" href="structPVRTVec3.html#a2">00406</a>         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = x+rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00407         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = y+rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
00408         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = z+rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00409         <span class="keywordflow">return</span> out;
00410     }
00411 <span class="comment">/*!***************************************************************************</span>
00412 <span class="comment"> @Function          -</span>
00413 <span class="comment"> @Input             rhs another PVRTVec3</span>
00414 <span class="comment"> @Returns           result of subtraction</span>
00415 <span class="comment"> @Description       componentwise subtraction operator for two PVRTVec3s</span>
<a name="l00416"></a><a class="code" href="structPVRTVec3.html#a3">00416</a> <span class="comment">****************************************************************************/</span>
00417     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a6">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
00418 <span class="keyword">    </span>{
00419         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00420         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = x-rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00421         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = y-rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
00422         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = z-rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00423         <span class="keywordflow">return</span> out;
00424     }
00425 
00426 <span class="comment">/*!***************************************************************************</span>
00427 <span class="comment"> @Function          +=</span>
00428 <span class="comment"> @Input             rhs another PVRTVec3</span>
00429 <span class="comment"> @Returns           result of addition</span>
00430 <span class="comment"> @Description       componentwise addition and assignement operator for two PVRTVec3s</span>
00431 <span class="comment">****************************************************************************/</span>
00432     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a7">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)
00433     {
00434         x +=rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00435         y +=rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
00436         z +=rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
<a name="l00437"></a><a class="code" href="structPVRTVec3.html#a5">00437</a>         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00438     }
00439 
00440 <span class="comment">/*!***************************************************************************</span>
00441 <span class="comment"> @Function          -=</span>
00442 <span class="comment"> @Input             rhs another PVRTVec3</span>
00443 <span class="comment"> @Returns           result of subtraction</span>
00444 <span class="comment"> @Description       componentwise subtraction and assignement operator for two PVRTVec3s</span>
00445 <span class="comment">****************************************************************************/</span>
00446     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a8">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)
00447     {
00448         x -=rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00449         y -=rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
00450         z -=rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00451         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00452"></a><a class="code" href="structPVRTVec3.html#a6">00452</a>     }
00453 
00454 <span class="comment">/*!***************************************************************************</span>
00455 <span class="comment"> @Function          -</span>
00456 <span class="comment"> @Input             rhs another PVRTVec3</span>
00457 <span class="comment"> @Returns           result of negation</span>
00458 <span class="comment"> @Description       negation operator for a PVRTVec3</span>
00459 <span class="comment">****************************************************************************/</span>
00460     <span class="keyword">friend</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a6">operator - </a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs) { <span class="keywordflow">return</span> <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(rhs) *= <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(-1); }
00461 
00462 <span class="comment">/*!***************************************************************************</span>
00463 <span class="comment"> @Function          *</span>
00464 <span class="comment"> @Input             lhs single value</span>
00465 <span class="comment"> @Input             rhs a PVRTVec3</span>
00466 <span class="comment"> @Returns           result of negation</span>
00467 <span class="comment"> @Description       negation operator for a PVRTVec3</span>
<a name="l00468"></a><a class="code" href="structPVRTVec3.html#a7">00468</a> <span class="comment">****************************************************************************/</span>
00469     <span class="keyword">friend</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp;  rhs)
00470     {
00471         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00472         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>);
00473         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>);
00474         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00475         <span class="keywordflow">return</span> out;
00476     }
00477 
00478 <span class="comment">/*!***************************************************************************</span>
00479 <span class="comment"> @Function          *</span>
00480 <span class="comment"> @Input             lhs single value</span>
00481 <span class="comment"> @Input             rhs a PVRTVec3</span>
00482 <span class="comment"> @Returns           result of negation</span>
<a name="l00483"></a><a class="code" href="structPVRTVec3.html#a8">00483</a> <span class="comment"> @Description       negation operator for a PVRTVec3</span>
00484 <span class="comment">****************************************************************************/</span>
00485     <span class="keyword">friend</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp;  rhs)
00486     {
00487         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00488         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>);
00489         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>);
00490         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00491         <span class="keywordflow">return</span> out;
00492     }
00493 
00494 <span class="comment">/*!***************************************************************************</span>
00495 <span class="comment"> @Function          *</span>
00496 <span class="comment"> @Input             rhs a PVRTMat3</span>
00497 <span class="comment"> @Returns           result of multiplication</span>
<a name="l00498"></a><a class="code" href="structPVRTVec3.html#n0">00498</a> <span class="comment"> @Description       matrix multiplication operator PVRTVec3 and PVRTMat3</span>
00499 <span class="comment">****************************************************************************/</span>
00500     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n1">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs) <span class="keyword">const</span>;
00501 
00502 <span class="comment">/*!***************************************************************************</span>
00503 <span class="comment"> @Function          *=</span>
00504 <span class="comment"> @Input             rhs a PVRTMat3</span>
00505 <span class="comment"> @Returns           result of multiplication and assignment</span>
00506 <span class="comment"> @Description       matrix multiplication and assignment operator for PVRTVec3 and PVRTMat3</span>
00507 <span class="comment">****************************************************************************/</span>
<a name="l00508"></a><a class="code" href="structPVRTVec3.html#n1">00508</a>     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs);
00509 
00510 <span class="comment">/*!***************************************************************************</span>
00511 <span class="comment"> @Function          *</span>
00512 <span class="comment"> @Input             rhs a single value</span>
00513 <span class="comment"> @Returns           result of multiplication</span>
00514 <span class="comment"> @Description       componentwise multiplication by single dimension value for PVRTVec3</span>
00515 <span class="comment">****************************************************************************/</span>
00516     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00517 <span class="keyword">    </span>{
00518         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00519         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs);
00520         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs);
00521         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs);
00522         <span class="keywordflow">return</span> out;
00523     }
00524 
<a name="l00525"></a><a class="code" href="structPVRTVec3.html#n2">00525</a> <span class="comment">/*!***************************************************************************</span>
00526 <span class="comment"> @Function          *</span>
00527 <span class="comment"> @Input             rhs a single value</span>
00528 <span class="comment"> @Returns           result of multiplication and assignment</span>
00529 <span class="comment"> @Description       componentwise multiplication and assignement by single</span>
00530 <span class="comment">                    dimension value for PVRTVec3</span>
00531 <span class="comment">****************************************************************************/</span>
00532     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a10">operator*=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00533     {
00534         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs);
00535         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs);
00536         z = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs);
00537         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00538     }
00539 
00540 <span class="comment">/*!***************************************************************************</span>
00541 <span class="comment"> @Function          /</span>
00542 <span class="comment"> @Input             rhs a single value</span>
00543 <span class="comment"> @Returns           result of division</span>
00544 <span class="comment"> @Description       componentwise division by single</span>
00545 <span class="comment">                    dimension value for PVRTVec3</span>
00546 <span class="comment">****************************************************************************/</span>
00547     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00548 <span class="keyword">    </span>{
00549         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00550         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,rhs);
00551         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,rhs);
00552         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,rhs);
00553         <span class="keywordflow">return</span> out;
00554     }
00555 
00556 <span class="comment">/*!***************************************************************************</span>
00557 <span class="comment"> @Function          /=</span>
00558 <span class="comment"> @Input             rhs a single value</span>
<a name="l00559"></a><a class="code" href="structPVRTVec3.html#a11">00559</a> <span class="comment"> @Returns           result of division and assignment</span>
00560 <span class="comment"> @Description       componentwise division and assignement by single</span>
00561 <span class="comment">                    dimension value for PVRTVec3</span>
00562 <span class="comment">****************************************************************************/</span>
00563     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a14">operator/=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00564     {
00565         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,rhs);
00566         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,rhs);
00567         z = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,rhs);
00568         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00569     }
00570 
00571 <span class="comment">/*!***************************************************************************</span>
00572 <span class="comment"> @Function          ==</span>
00573 <span class="comment"> @Input             rhs a single value</span>
00574 <span class="comment"> @Returns           true if the two vectors are equal</span>
00575 <span class="comment"> @Description       PVRTVec3 equality operator</span>
<a name="l00576"></a><a class="code" href="structPVRTVec3.html#a12">00576</a> <span class="comment">****************************************************************************/</span>
00577     <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec3.html#a15">operator==</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
00578 <span class="keyword">    </span>{
00579         <span class="keywordflow">if</span>(x != rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00580         <span class="keywordflow">if</span>(y != rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00581         <span class="keywordflow">if</span>(z != rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00582         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00583     }
00584 
00585 <span class="comment">/*!***************************************************************************</span>
00586 <span class="comment">@Function           !=</span>
00587 <span class="comment">@Input              rhs a single value</span>
00588 <span class="comment">@Returns            true if the two vectors are not equal</span>
00589 <span class="comment">@Description        PVRTVec3 inequality operator</span>
00590 <span class="comment">    ****************************************************************************/</span>
00591     <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec3.html#a16">operator!=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
<a name="l00592"></a><a class="code" href="structPVRTVec3.html#a13">00592</a> <span class="keyword">    </span>{
00593         <span class="keywordflow">if</span>(x == rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>)
00594             <span class="keywordflow">return</span> <span class="keyword">false</span>;
00595 
00596         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00597     }
00598     <span class="comment">// FUNCTIONS</span>
00599 <span class="comment">/*!***************************************************************************</span>
00600 <span class="comment"> @Function          lenSqr</span>
00601 <span class="comment"> @Returns           the square of the magnitude of the vector</span>
00602 <span class="comment"> @Description       calculates the square of the magnitude of the vector</span>
00603 <span class="comment">****************************************************************************/</span>
00604     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec3.html#a17">lenSqr</a>()<span class="keyword"> const</span>
00605 <span class="keyword">    </span>{
00606         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,x)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,y)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,z);
00607     }
00608 
<a name="l00609"></a><a class="code" href="structPVRTVec3.html#a14">00609</a> <span class="comment">/*!***************************************************************************</span>
00610 <span class="comment"> @Function          length</span>
00611 <span class="comment"> @Returns           the of the magnitude of the vector</span>
00612 <span class="comment"> @Description       calculates the magnitude of the vector</span>
00613 <span class="comment">****************************************************************************/</span>
00614     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec3.html#a18">length</a>()<span class="keyword"> const</span>
00615 <span class="keyword">    </span>{
00616         <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>) <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(z)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(z)));
00617     }
00618 
00619 <span class="comment">/*!***************************************************************************</span>
00620 <span class="comment"> @Function          normalize</span>
00621 <span class="comment"> @Returns           the normalized value of the vector</span>
00622 <span class="comment"> @Description       normalizes the vector</span>
00623 <span class="comment">****************************************************************************/</span>
<a name="l00624"></a><a class="code" href="structPVRTVec3.html#a15">00624</a>     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a19">normalize</a>()
00625     {
00626 <span class="preprocessor">#if defined(PVRT_FIXED_POINT_ENABLE)</span>
00627 <span class="preprocessor"></span>        <span class="comment">// Scale vector by uniform value</span>
00628         <span class="keywordtype">int</span> n = <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(z);
00629         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x, n);
00630         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y, n);
00631         z = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z, n);
00632 
00633         <span class="comment">// Calculate x2+y2+z2/sqrt(x2+y2+z2)</span>
00634         <span class="keywordtype">int</span> f = <a class="code" href="structPVRTVec3.html#a21">dot</a>(*<span class="keyword">this</span>);
00635         f = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a2">PVRTF2X</a>(1.0f), <a class="code" href="PVRTFixedPoint_8h.html#a2">PVRTF2X</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a3">PVRTX2F</a>(f))));
00636 
00637         <span class="comment">// Multiply vector components by f</span>
00638         x = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(x, f);
<a name="l00639"></a><a class="code" href="structPVRTVec3.html#a16">00639</a>         y = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(y, f);
00640         z = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(z, f);
00641 <span class="preprocessor">#else</span>
00642 <span class="preprocessor"></span>        <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec3.html#a18">length</a>();
00643         x =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,len);
00644         y =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,len);
00645         z =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,len);
00646 <span class="preprocessor">#endif</span>
00647 <span class="preprocessor"></span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00648     }
00649 
00650 <span class="comment">/*!***************************************************************************</span>
00651 <span class="comment"> @Function          normalized</span>
00652 <span class="comment"> @Returns           returns the normalized value of the vector</span>
<a name="l00653"></a><a class="code" href="structPVRTVec3.html#a17">00653</a> <span class="comment"> @Description       returns a normalized vector of the same direction as this</span>
00654 <span class="comment">                    vector</span>
00655 <span class="comment">****************************************************************************/</span>
00656     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a20">normalized</a>()<span class="keyword"> const</span>
00657 <span class="keyword">    </span>{
00658         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00659 <span class="preprocessor">#if defined(PVRT_FIXED_POINT_ENABLE)</span>
00660 <span class="preprocessor"></span>        <span class="comment">// Scale vector by uniform value</span>
00661         <span class="keywordtype">int</span> n = <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(z);
00662         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x, n);
00663         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y, n);
<a name="l00664"></a><a class="code" href="structPVRTVec3.html#a18">00664</a>         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z, n);
00665 
00666         <span class="comment">// Calculate x2+y2+z2/sqrt(x2+y2+z2)</span>
00667         <span class="keywordtype">int</span> f = out.<a class="code" href="structPVRTVec3.html#a21">dot</a>(out);
00668         f = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a2">PVRTF2X</a>(1.0f), <a class="code" href="PVRTFixedPoint_8h.html#a2">PVRTF2X</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a3">PVRTX2F</a>(f))));
00669 
00670         <span class="comment">// Multiply vector components by f</span>
00671         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>, f);
00672         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>, f);
00673         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>, f);
00674 <span class="preprocessor">#else</span>
<a name="l00675"></a><a class="code" href="structPVRTVec3.html#a19">00675</a> <span class="preprocessor"></span>        <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec3.html#a18">length</a>();
00676         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,len);
00677         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,len);
00678         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,len);
00679 <span class="preprocessor">#endif</span>
00680 <span class="preprocessor"></span>        <span class="keywordflow">return</span> out;
00681     }
00682 
00683 <span class="comment">/*!***************************************************************************</span>
00684 <span class="comment"> @Function          dot</span>
00685 <span class="comment"> @Input             rhs a single value</span>
00686 <span class="comment"> @Returns           scalar product</span>
00687 <span class="comment"> @Description       calculate the scalar product of two PVRTVec3s</span>
00688 <span class="comment">****************************************************************************/</span>
00689     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec3.html#a21">dot</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)
00690     {
00691         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00692     }
00693 
00694 <span class="comment">/*!***************************************************************************</span>
00695 <span class="comment"> @Function          dot</span>
00696 <span class="comment"> @Returns           scalar product</span>
00697 <span class="comment"> @Description       calculate the scalar product of two PVRTVec3s</span>
00698 <span class="comment">****************************************************************************/</span>
00699     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a22">cross</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)
00700     {
00701         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00702         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>)-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>);
00703         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>)-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00704         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>)-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>);
00705         <span class="keywordflow">return</span> out;
00706     }
00707 
<a name="l00708"></a><a class="code" href="structPVRTVec3.html#a20">00708</a> <span class="comment">/*!***************************************************************************</span>
00709 <span class="comment"> @Function          ptr</span>
00710 <span class="comment"> @Returns           pointer</span>
00711 <span class="comment"> @Description       returns a pointer to memory containing the values of the</span>
00712 <span class="comment">                    PVRTVec3</span>
00713 <span class="comment">****************************************************************************/</span>
00714     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTVec3.html#a23">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)<span class="keyword">this</span>; }
00715 };
00716 
00717 <span class="comment">/*!***************************************************************************</span>
00718 <span class="comment">** PVRTVec4 4 component vector</span>
00719 <span class="comment">****************************************************************************/</span>
00720 <span class="keyword">struct </span><a class="code" href="structPVRTVec4.html">PVRTVec4</a> : <span class="keyword">public</span> <a class="code" href="structPVRTVECTOR4f.html">PVRTVECTOR4</a>
00721 {
00722 <span class="comment">/*!***************************************************************************</span>
00723 <span class="comment">** Constructors</span>
00724 <span class="comment">****************************************************************************/</span>
00725 <span class="comment">/*!***************************************************************************</span>
00726 <span class="comment"> @Function          PVRTVec4</span>
00727 <span class="comment"> @Description       Blank constructor.</span>
00728 <span class="comment">*****************************************************************************/</span>
00729     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(){}
00730 
00731 <span class="comment">/*!***************************************************************************</span>
00732 <span class="comment"> @Function          PVRTVec3</span>
00733 <span class="comment"> @Description       Blank constructor.</span>
00734 <span class="comment">*****************************************************************************/</span>
00735     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(<span class="keyword">const</span> VERTTYPE vec)
00736     {
00737         <a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = vec; <a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = vec; <a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = vec; <a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = vec;
00738     }
00739 
00740 <span class="comment">/*!***************************************************************************</span>
00741 <span class="comment"> @Function          multiple value constructor</span>
<a name="l00742"></a><a class="code" href="structPVRTVec3.html#a21">00742</a> <span class="comment"> @Input             fX value of x component</span>
00743 <span class="comment"> @Input             fY value of y component</span>
00744 <span class="comment"> @Input             fZ value of z component</span>
00745 <span class="comment"> @Input             fW value of w component</span>
00746 <span class="comment"> @Description       Constructs a PVRTVec4 from 4 separate values</span>
00747 <span class="comment">****************************************************************************/</span>
00748     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(VERTTYPE fX, VERTTYPE fY, VERTTYPE fZ, VERTTYPE fW)
00749     {
00750         x = fX; y = fY; z = fZ; w = fW;
00751     }
00752 
<a name="l00753"></a><a class="code" href="structPVRTVec3.html#a22">00753</a> <span class="comment">/*!***************************************************************************</span>
00754 <span class="comment"> @Function          constructor from PVRTVec3</span>
00755 <span class="comment"> @Input             vec3 a PVRTVec3</span>
00756 <span class="comment"> @Input             fW value of w component</span>
00757 <span class="comment"> @Description       Constructs a PVRTVec4 from a vec3 and a w component</span>
00758 <span class="comment">****************************************************************************/</span>
00759     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vec3, VERTTYPE fW)
00760     {
00761         x = vec3.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>; y = vec3.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>; z = vec3.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>; w = fW;
00762     }
00763 
00764 <span class="comment">/*!***************************************************************************</span>
00765 <span class="comment"> @Function          constructor from PVRTVec3</span>
00766 <span class="comment"> @Input             fX value of x component</span>
00767 <span class="comment"> @Input             vec3 a PVRTVec3</span>
00768 <span class="comment"> @Description       Constructs a vec4 from a vec3 and a w component</span>
<a name="l00769"></a><a class="code" href="structPVRTVec3.html#a23">00769</a> <span class="comment">****************************************************************************/</span>
00770     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(VERTTYPE fX, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vec3)
00771     {
00772         x = fX; y = vec3.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>; z = vec3.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>; w = vec3.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00773     }
00774 
<a name="l00775"></a><a class="code" href="structPVRTVec4.html">00775</a> <span class="comment">/*!***************************************************************************</span>
00776 <span class="comment"> @Function          constructor from array</span>
00777 <span class="comment"> @Input             pVec a pointer to an array of four values</span>
00778 <span class="comment"> @Description       Constructs a PVRTVec4 from a pointer to an array of four values</span>
00779 <span class="comment">****************************************************************************/</span>
00780     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(<span class="keyword">const</span> VERTTYPE* pVec)
00781     {
00782         x = (*pVec++); y = (*pVec++); z= (*pVec++); w = *pVec;
00783     }
00784 
<a name="l00785"></a><a class="code" href="structPVRTVec4.html#a0">00785</a> <span class="comment">/*!***************************************************************************</span>
00786 <span class="comment">** PVRTVec4 Operators</span>
00787 <span class="comment">****************************************************************************/</span>
00788 <span class="comment">/*!***************************************************************************</span>
00789 <span class="comment"> @Function          +</span>
00790 <span class="comment"> @Input             rhs another PVRTVec4</span>
00791 <span class="comment"> @Returns           result of addition</span>
<a name="l00792"></a><a class="code" href="structPVRTVec4.html#a1">00792</a> <span class="comment"> @Description       Addition operator for PVRTVec4</span>
00793 <span class="comment">****************************************************************************/</span>
00794     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a6">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
00795 <span class="keyword">    </span>{
00796         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00797         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = x+rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00798         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = y+rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
00799         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = z+rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00800         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = w+rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00801         <span class="keywordflow">return</span> out;
00802     }
00803 
00804 <span class="comment">/*!***************************************************************************</span>
00805 <span class="comment"> @Function          -</span>
<a name="l00806"></a><a class="code" href="structPVRTVec4.html#a2">00806</a> <span class="comment"> @Input             rhs another PVRTVec4</span>
00807 <span class="comment"> @Returns           result of subtraction</span>
00808 <span class="comment"> @Description       Subtraction operator for PVRTVec4</span>
00809 <span class="comment">****************************************************************************/</span>
00810     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a7">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
00811 <span class="keyword">    </span>{
00812         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00813         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = x-rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00814         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = y-rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
00815         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = z-rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00816         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = w-rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00817         <span class="keywordflow">return</span> out;
<a name="l00818"></a><a class="code" href="structPVRTVec4.html#a3">00818</a>     }
00819 
00820 <span class="comment">/*!***************************************************************************</span>
00821 <span class="comment"> @Function          +=</span>
00822 <span class="comment"> @Input             rhs another PVRTVec4</span>
00823 <span class="comment"> @Returns           result of addition and assignment</span>
00824 <span class="comment"> @Description       Addition and assignment operator for PVRTVec4</span>
00825 <span class="comment">****************************************************************************/</span>
00826     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a8">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)
00827     {
00828         x +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00829         y +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
<a name="l00830"></a><a class="code" href="structPVRTVec4.html#a4">00830</a>         z +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00831         w +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00832         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00833     }
00834 
00835 <span class="comment">/*!***************************************************************************</span>
00836 <span class="comment"> @Function          -=</span>
00837 <span class="comment"> @Input             rhs another PVRTVec4</span>
00838 <span class="comment"> @Returns           result of subtraction and assignment</span>
00839 <span class="comment"> @Description       Subtraction and assignment operator for PVRTVec4</span>
00840 <span class="comment">****************************************************************************/</span>
<a name="l00841"></a><a class="code" href="structPVRTVec4.html#a5">00841</a>     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a9">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)
00842     {
00843         x -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00844         y -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
00845         z -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00846         w -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00847         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00848     }
00849 
00850 <span class="comment">/*!***************************************************************************</span>
00851 <span class="comment"> @Function          *</span>
00852 <span class="comment"> @Input             rhs a PVRTMat4</span>
00853 <span class="comment"> @Returns           result of multiplication</span>
00854 <span class="comment"> @Description       matrix multiplication for PVRTVec4 and PVRTMat4</span>
00855 <span class="comment">****************************************************************************/</span>
<a name="l00856"></a><a class="code" href="structPVRTVec4.html#a6">00856</a>     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a10">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs) <span class="keyword">const</span>;
00857 
00858 <span class="comment">/*!***************************************************************************</span>
00859 <span class="comment"> @Function          *=</span>
00860 <span class="comment"> @Input             rhs a PVRTMat4</span>
00861 <span class="comment"> @Returns           result of multiplication and assignement</span>
00862 <span class="comment"> @Description       matrix multiplication and assignment for PVRTVec4 and PVRTMat4</span>
00863 <span class="comment">****************************************************************************/</span>
00864     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a11">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs);
00865 
00866 <span class="comment">/*!***************************************************************************</span>
00867 <span class="comment"> @Function          *</span>
00868 <span class="comment"> @Input             rhs a single dimension value</span>
00869 <span class="comment"> @Returns           result of multiplication</span>
00870 <span class="comment"> @Description       componentwise multiplication of a PVRTVec4 by a single value</span>
00871 <span class="comment">****************************************************************************/</span>
00872     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a10">operator*</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
<a name="l00873"></a><a class="code" href="structPVRTVec4.html#a7">00873</a> <span class="keyword">    </span>{
00874         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00875         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs);
00876         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs);
00877         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs);
00878         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(w,rhs);
00879         <span class="keywordflow">return</span> out;
00880     }
00881 
00882 <span class="comment">/*!***************************************************************************</span>
00883 <span class="comment"> @Function          *=</span>
00884 <span class="comment"> @Input             rhs a single dimension value</span>
00885 <span class="comment"> @Returns           result of multiplication and assignment</span>
00886 <span class="comment"> @Description       componentwise multiplication and assignment of a PVRTVec4 by</span>
00887 <span class="comment">                a single value</span>
00888 <span class="comment">****************************************************************************/</span>
00889     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a11">operator*=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
<a name="l00890"></a><a class="code" href="structPVRTVec4.html#a8">00890</a>     {
00891         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs);
00892         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs);
00893         z = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs);
00894         w = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(w,rhs);
00895         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00896     }
00897 
00898 <span class="comment">/*!***************************************************************************</span>
00899 <span class="comment"> @Function          /</span>
00900 <span class="comment"> @Input             rhs a single dimension value</span>
00901 <span class="comment"> @Returns           result of division</span>
00902 <span class="comment"> @Description       componentwise division of a PVRTVec4 by a single value</span>
00903 <span class="comment">****************************************************************************/</span>
00904     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a14">operator/</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00905 <span class="keyword">    </span>{
<a name="l00906"></a><a class="code" href="structPVRTVec4.html#a9">00906</a>         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00907         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,rhs);
00908         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,rhs);
00909         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,rhs);
00910         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(w,rhs);
00911         <span class="keywordflow">return</span> out;
00912     }
00913 
00914 <span class="comment">/*!***************************************************************************</span>
00915 <span class="comment"> @Function          /=</span>
00916 <span class="comment"> @Input             rhs a single dimension value</span>
00917 <span class="comment"> @Returns           result of division and assignment</span>
00918 <span class="comment"> @Description       componentwise division and assignment of a PVRTVec4 by</span>
00919 <span class="comment">                    a single value</span>
00920 <span class="comment">****************************************************************************/</span>
00921     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a15">operator/=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00922     {
00923         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,rhs);
00924         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,rhs);
00925         z = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,rhs);
00926         w = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(w,rhs);
00927         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00928     }
00929 
00930 <span class="comment">/*!***************************************************************************</span>
00931 <span class="comment"> @Function          *</span>
00932 <span class="comment"> @Input             lhs a single dimension value</span>
00933 <span class="comment"> @Input             rhs a PVRTVec4</span>
00934 <span class="comment"> @Returns           result of muliplication</span>
00935 <span class="comment"> @Description       componentwise multiplication of a PVRTVec4 by</span>
00936 <span class="comment">                    a single value</span>
00937 <span class="comment">****************************************************************************/</span>
00938 <span class="keyword">friend</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a10">operator*</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp;  rhs)
00939 {
<a name="l00940"></a><a class="code" href="structPVRTVec4.html#a12">00940</a>     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00941     out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>);
00942     out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>);
00943     out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>);
00944     out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>);
00945     <span class="keywordflow">return</span> out;
00946 }
00947 
00948 <span class="comment">/*!***************************************************************************</span>
00949 <span class="comment"> @Function          ==</span>
00950 <span class="comment"> @Input             rhs a single value</span>
00951 <span class="comment"> @Returns           true if the two vectors are equal</span>
00952 <span class="comment"> @Description       PVRTVec4 equality operator</span>
00953 <span class="comment">****************************************************************************/</span>
00954     <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec4.html#a16">operator==</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
00955 <span class="keyword">    </span>{
00956         <span class="keywordflow">if</span>(x != rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00957         <span class="keywordflow">if</span>(y != rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00958"></a><a class="code" href="structPVRTVec4.html#a13">00958</a>         <span class="keywordflow">if</span>(z != rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00959         <span class="keywordflow">if</span>(w != rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00960         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00961     }
00962 
00963 <span class="comment">/*!***************************************************************************</span>
00964 <span class="comment">@Function           !=</span>
00965 <span class="comment">@Input              rhs a single value</span>
00966 <span class="comment">@Returns            true if the two vectors are not equal</span>
00967 <span class="comment">@Description        PVRTVec4 inequality operator</span>
00968 <span class="comment">    ****************************************************************************/</span>
00969     <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec4.html#a17">operator!=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
00970 <span class="keyword">    </span>{
00971         <span class="keywordflow">if</span>(x == rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>)
00972             <span class="keywordflow">return</span> <span class="keyword">false</span>;
00973 
<a name="l00974"></a><a class="code" href="structPVRTVec4.html#a14">00974</a>         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00975     }
00976 <span class="comment">/*!***************************************************************************</span>
00977 <span class="comment">** Functions</span>
00978 <span class="comment">****************************************************************************/</span>
00979 <span class="comment">/*!***************************************************************************</span>
00980 <span class="comment"> @Function          lenSqr</span>
00981 <span class="comment"> @Returns           square of the magnitude of the vector</span>
00982 <span class="comment"> @Description       calculates the square of the magnitude of the vector</span>
00983 <span class="comment">****************************************************************************/</span>
00984     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec4.html#a18">lenSqr</a>()<span class="keyword"> const</span>
00985 <span class="keyword">    </span>{
00986         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,x)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,y)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,z)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(w,w);
00987     }
00988 
00989 <span class="comment">/*!***************************************************************************</span>
00990 <span class="comment"> @Function          length</span>
00991 <span class="comment"> @Returns           the magnitude of the vector</span>
<a name="l00992"></a><a class="code" href="structPVRTVec4.html#a15">00992</a> <span class="comment"> @Description       calculates the magnitude of the vector</span>
00993 <span class="comment">****************************************************************************/</span>
00994     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec4.html#a19">length</a>()<span class="keyword"> const</span>
00995 <span class="keyword">    </span>{
00996         <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>) <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(z)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(z) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(w)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(w)));
00997     }
00998 
00999 <span class="comment">/*!***************************************************************************</span>
01000 <span class="comment"> @Function          normalize</span>
01001 <span class="comment"> @Returns           normalized vector</span>
01002 <span class="comment"> @Description       calculates the normalized value of a PVRTVec4</span>
01003 <span class="comment">****************************************************************************/</span>
01004     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a20">normalize</a>()
01005     {
01006         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec4.html#a19">length</a>();
01007         x =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,len);
01008         y =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,len);
01009         z =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,len);
<a name="l01010"></a><a class="code" href="structPVRTVec4.html#n0">01010</a>         w =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(w,len);
01011         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01012     }
01013 <span class="comment">/*!***************************************************************************</span>
01014 <span class="comment"> @Function          normalized</span>
01015 <span class="comment"> @Returns           normalized vector</span>
01016 <span class="comment"> @Description       returns a normalized vector of the same direction as this</span>
01017 <span class="comment">                    vector</span>
01018 <span class="comment">****************************************************************************/</span>
01019     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a21">normalized</a>()<span class="keyword"> const</span>
01020 <span class="keyword">    </span>{
01021         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
01022         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec4.html#a19">length</a>();
01023         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,len);
01024         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,len);
01025         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,len);
01026         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(w,len);
<a name="l01027"></a><a class="code" href="structPVRTVec4.html#a16">01027</a>         <span class="keywordflow">return</span> out;
01028     }
01029 
01030 <span class="comment">/*!***************************************************************************</span>
01031 <span class="comment"> @Function          dot</span>
01032 <span class="comment"> @Returns           scalar product</span>
01033 <span class="comment"> @Description       returns a normalized vector of the same direction as this</span>
01034 <span class="comment">                    vector</span>
01035 <span class="comment">****************************************************************************/</span>
01036     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec4.html#a22">dot</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)
01037     {
01038         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(w,rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>);
01039     }
01040 
01041 <span class="comment">/*!***************************************************************************</span>
01042 <span class="comment"> @Function          ptr</span>
<a name="l01043"></a><a class="code" href="structPVRTVec4.html#a17">01043</a> <span class="comment"> @Returns           pointer to vector values</span>
01044 <span class="comment"> @Description       returns a pointer to memory containing the values of the</span>
01045 <span class="comment">                    PVRTVec3</span>
01046 <span class="comment">****************************************************************************/</span>
01047     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTVec4.html#a23">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)<span class="keyword">this</span>; }
01048 };
01049 
01050 <span class="comment">/*!***************************************************************************</span>
01051 <span class="comment">** PVRTMat3 3x3 Matrix</span>
01052 <span class="comment">****************************************************************************/</span>
01053 <span class="keyword">struct </span><a class="code" href="structPVRTMat3.html">PVRTMat3</a> : <span class="keyword">public</span> <a class="code" href="classPVRTMATRIX3f.html">PVRTMATRIX3</a>
01054 {
01055 <span class="comment">/*!***************************************************************************</span>
01056 <span class="comment">** Constructors</span>
01057 <span class="comment">****************************************************************************/</span>
01058 <span class="comment">/*!***************************************************************************</span>
<a name="l01059"></a><a class="code" href="structPVRTVec4.html#a18">01059</a> <span class="comment"> @Function          PVRTMat3</span>
01060 <span class="comment"> @Description       Blank constructor.</span>
01061 <span class="comment">*****************************************************************************/</span>
01062     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(){}
01063 <span class="comment">/*!***************************************************************************</span>
01064 <span class="comment"> @Function          PVRTMat3</span>
01065 <span class="comment"> @Input             pMat an array of values for the matrix</span>
01066 <span class="comment"> @Description       Constructor from array.</span>
01067 <span class="comment">*****************************************************************************/</span>
01068     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(<span class="keyword">const</span> VERTTYPE* pMat)
01069     {
<a name="l01070"></a><a class="code" href="structPVRTVec4.html#a19">01070</a>         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>* ptr = f;
01071         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01072         {
01073             (*ptr++)=(*pMat++);
01074         }
01075     }
01076 
01077 <span class="comment">/*!***************************************************************************</span>
01078 <span class="comment"> @Function          PVRTMat3</span>
01079 <span class="comment"> @Input             m0 matrix value</span>
01080 <span class="comment"> @Input             m1 matrix value</span>
<a name="l01081"></a><a class="code" href="structPVRTVec4.html#a20">01081</a> <span class="comment"> @Input             m2 matrix value</span>
01082 <span class="comment"> @Input             m3 matrix value</span>
01083 <span class="comment"> @Input             m4 matrix value</span>
01084 <span class="comment"> @Input             m5 matrix value</span>
01085 <span class="comment"> @Input             m6 matrix value</span>
01086 <span class="comment"> @Input             m7 matrix value</span>
01087 <span class="comment"> @Input             m8 matrix value</span>
01088 <span class="comment"> @Description       Constructor from distinct values.</span>
01089 <span class="comment">*****************************************************************************/</span>
01090     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(VERTTYPE m0,VERTTYPE m1,VERTTYPE m2,
01091         VERTTYPE m3,VERTTYPE m4,VERTTYPE m5,
01092         VERTTYPE m6,VERTTYPE m7,VERTTYPE m8)
01093     {
01094         f[0]=m0;f[1]=m1;f[2]=m2;
01095         f[3]=m3;f[4]=m4;f[5]=m5;
01096         f[6]=m6;f[7]=m7;f[8]=m8;
<a name="l01097"></a><a class="code" href="structPVRTVec4.html#a21">01097</a>     }
01098 
01099 <span class="comment">/*!***************************************************************************</span>
01100 <span class="comment"> @Function          PVRTMat3</span>
01101 <span class="comment"> @Input             mat - a PVRTMat4</span>
01102 <span class="comment"> @Description       Constructor from 4x4 matrix - uses top left values</span>
01103 <span class="comment">*****************************************************************************/</span>
01104     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; mat);
01105 
01106 <span class="comment">/****************************************************************************</span>
01107 <span class="comment">** PVRTMat3 OPERATORS</span>
01108 <span class="comment">****************************************************************************/</span>
01109 <span class="comment">/*!***************************************************************************</span>
01110 <span class="comment"> @Function          ()</span>
01111 <span class="comment"> @Input             r - row of matrix</span>
01112 <span class="comment"> @Input             c - column of matrix</span>
01113 <span class="comment"> @Returns           value of element</span>
01114 <span class="comment"> @Description       Returns value of the element at row r and colun c of the</span>
<a name="l01115"></a><a class="code" href="structPVRTVec4.html#a22">01115</a> <span class="comment">                    PVRTMat3</span>
01116 <span class="comment">*****************************************************************************/</span>
01117     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat3.html#a4">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">int</span> c)
01118     {
01119         <span class="keywordflow">return</span> f[c*3+r];
01120     }
01121 <span class="comment">/*!***************************************************************************</span>
01122 <span class="comment"> @Function          ()</span>
01123 <span class="comment"> @Input             r - row of matrix</span>
01124 <span class="comment"> @Input             c - column of matrix</span>
01125 <span class="comment"> @Returns           value of element</span>
01126 <span class="comment"> @Description       Returns value of the element at row r and colun c of the</span>
<a name="l01127"></a><a class="code" href="structPVRTVec4.html#a23">01127</a> <span class="comment">                    PVRTMat3</span>
01128 <span class="comment">*****************************************************************************/</span>
01129     <span class="keyword">const</span> <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat3.html#a4">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">int</span> c)<span class="keyword"> const</span>
01130 <span class="keyword">    </span>{
01131         <span class="keywordflow">return</span> f[c*3+r];
01132     }
<a name="l01133"></a><a class="code" href="structPVRTMat3.html">01133</a> 
01134 <span class="comment">/*!***************************************************************************</span>
01135 <span class="comment"> @Function          *</span>
01136 <span class="comment"> @Input             rhs another PVRTMat3</span>
01137 <span class="comment"> @Returns           result of multiplication</span>
01138 <span class="comment"> @Description       Matrix multiplication of two 3x3 matrices.</span>
01139 <span class="comment">*****************************************************************************/</span>
01140     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a6">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)<span class="keyword"> const</span>
01141 <span class="keyword">    </span>{
01142         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
<a name="l01143"></a><a class="code" href="structPVRTMat3.html#a0">01143</a>         <span class="comment">// col 1</span>
01144         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01145         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01146         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01147 
01148         <span class="comment">// col 2</span>
01149         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
<a name="l01150"></a><a class="code" href="structPVRTMat3.html#a1">01150</a>         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01151         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01152 
01153         <span class="comment">// col3</span>
01154         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01155         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01156         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01157         <span class="keywordflow">return</span> out;
01158     }
01159 
01160 <span class="comment">/*!***************************************************************************</span>
01161 <span class="comment"> @Function          +</span>
01162 <span class="comment"> @Input             rhs another PVRTMat3</span>
01163 <span class="comment"> @Returns           result of addition</span>
01164 <span class="comment"> @Description       element by element addition operator.</span>
01165 <span class="comment">*****************************************************************************/</span>
01166     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a7">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)<span class="keyword"> const</span>
01167 <span class="keyword">    </span>{
01168         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01169         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *lptr = f, *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01170         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *outptr = out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01171         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01172         {
<a name="l01173"></a><a class="code" href="structPVRTMat3.html#a2">01173</a>             (*outptr++) = (*lptr++) + (*rptr++);
01174         }
01175         <span class="keywordflow">return</span> out;
01176     }
01177 
01178 <span class="comment">/*!***************************************************************************</span>
01179 <span class="comment"> @Function          -</span>
01180 <span class="comment"> @Input             rhs another PVRTMat3</span>
01181 <span class="comment"> @Returns           result of subtraction</span>
01182 <span class="comment"> @Description       element by element subtraction operator.</span>
01183 <span class="comment">*****************************************************************************/</span>
01184     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a8">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)<span class="keyword"> const</span>
01185 <span class="keyword">    </span>{
01186         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01187         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *lptr = f, *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01188         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *outptr = out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01189         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01190         {
01191             (*outptr++) = (*lptr++) - (*rptr++);
01192         }
01193         <span class="keywordflow">return</span> out;
01194     }
01195 
01196 <span class="comment">/*!***************************************************************************</span>
01197 <span class="comment"> @Function          +=</span>
01198 <span class="comment"> @Input             rhs another PVRTMat3</span>
01199 <span class="comment"> @Returns           result of addition and assignment</span>
01200 <span class="comment"> @Description       element by element addition and assignment operator.</span>
01201 <span class="comment">*****************************************************************************/</span>
<a name="l01202"></a><a class="code" href="structPVRTMat3.html#a4">01202</a>     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a9">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)
01203     {
01204         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *lptr = f;
01205         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01206         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01207         {
01208             (*lptr++) += (*rptr++);
01209         }
01210         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01211     }
01212 
01213 <span class="comment">/*!***************************************************************************</span>
01214 <span class="comment"> @Function          -=</span>
<a name="l01215"></a><a class="code" href="structPVRTMat3.html#a5">01215</a> <span class="comment"> @Input             rhs another PVRTMat3</span>
01216 <span class="comment"> @Returns           result of subtraction and assignment</span>
01217 <span class="comment"> @Description       element by element subtraction and assignment operator.</span>
01218 <span class="comment">*****************************************************************************/</span>
01219     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a10">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)
01220     {
01221         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *lptr = f;
01222         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01223         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01224         {
01225             (*lptr++) -= (*rptr++);
01226         }
<a name="l01227"></a><a class="code" href="structPVRTMat3.html#a6">01227</a>         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01228     }
01229 
01230 <span class="comment">/*!***************************************************************************</span>
01231 <span class="comment"> @Function          *=</span>
01232 <span class="comment"> @Input             rhs another PVRTMat3</span>
01233 <span class="comment"> @Returns           result of multiplication and assignment</span>
01234 <span class="comment"> @Description       Matrix multiplication and assignment of two 3x3 matrices.</span>
01235 <span class="comment">*****************************************************************************/</span>
01236     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a11">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)
01237     {
01238         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01239         <span class="comment">// col 1</span>
01240         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01241         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01242         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01243 
01244         <span class="comment">// col 2</span>
01245         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01246         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01247         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01248 
01249         <span class="comment">// col3</span>
01250         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01251         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01252         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01253         *<span class="keyword">this</span> = out;
<a name="l01254"></a><a class="code" href="structPVRTMat3.html#a7">01254</a>         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01255     }
01256 
01257 <span class="comment">/*!***************************************************************************</span>
01258 <span class="comment"> @Function          *</span>
01259 <span class="comment"> @Input             rhs a single value</span>
01260 <span class="comment"> @Returns           result of multiplication and assignment</span>
01261 <span class="comment"> @Description       element multiplication by a single value.</span>
01262 <span class="comment">*****************************************************************************/</span>
01263     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a6">operator*</a>(<span class="keyword">const</span> VERTTYPE rhs)
01264     {
01265         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;9; ++i)
01266         {
01267             f[i]*=rhs;
01268         }
01269         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01270     }
01271 <span class="comment">/*!***************************************************************************</span>
01272 <span class="comment"> @Function          *=</span>
<a name="l01273"></a><a class="code" href="structPVRTMat3.html#a8">01273</a> <span class="comment"> @Input             rhs a single value</span>
01274 <span class="comment"> @Returns           result of multiplication and assignment</span>
01275 <span class="comment"> @Description       element multiplication and assignment by a single value.</span>
01276 <span class="comment">*****************************************************************************/</span>
01277     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a11">operator*=</a>(<span class="keyword">const</span> VERTTYPE rhs)
01278     {
01279         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;9; ++i)
01280         {
01281             f[i]*=rhs;
01282         }
01283         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01284     }
01285 
01286 <span class="comment">/*!***************************************************************************</span>
01287 <span class="comment"> @Function          *</span>
01288 <span class="comment"> @Input             rhs another PVRTVec3</span>
01289 <span class="comment"> @Returns           result of multiplication</span>
01290 <span class="comment"> @Description       Matrix multiplication of 3x3 matrix and vec3</span>
01291 <span class="comment">*****************************************************************************/</span>
<a name="l01292"></a><a class="code" href="structPVRTMat3.html#a9">01292</a>     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTMat3.html#a6">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
01293 <span class="keyword">    </span>{
01294         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
01295         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>,f[6]);
01296         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>,f[7]);
01297         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>,f[8]);
01298 
01299         <span class="keywordflow">return</span> out;
01300     }
01301 
01302 
01303     <span class="comment">// FUNCTIONS</span>
01304 <span class="comment">/*!***************************************************************************</span>
01305 <span class="comment">** Functions</span>
01306 <span class="comment">*****************************************************************************/</span>
01307 <span class="comment">/*!***************************************************************************</span>
01308 <span class="comment"> @Function          determinant</span>
01309 <span class="comment"> @Returns           result of multiplication</span>
<a name="l01310"></a><a class="code" href="structPVRTMat3.html#a10">01310</a> <span class="comment"> @Description       Matrix multiplication and assignment of 3x3 matrix and vec3</span>
01311 <span class="comment">*****************************************************************************/</span>
01312     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTMat3.html#a15">determinant</a>()<span class="keyword"> const</span>
01313 <span class="keyword">    </span>{
01314         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],f[8])-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],f[5])))
01315             - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[8])-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],f[2])))
01316             + <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[5])-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],f[2])));
01317     }
01318 
01319 <span class="comment">/*!***************************************************************************</span>
01320 <span class="comment"> @Function          inverse</span>
01321 <span class="comment"> @Returns           inverse mat3</span>
01322 <span class="comment"> @Description       Calculates multiplicative inverse of this matrix</span>
01323 <span class="comment">*****************************************************************************/</span>
01324     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a16">inverse</a>()<span class="keyword"> const</span>
01325 <span class="keyword">    </span>{
01326         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01327 
<a name="l01328"></a><a class="code" href="structPVRTMat3.html#a11">01328</a> 
01329         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> recDet = <a class="code" href="structPVRTMat3.html#a15">determinant</a>();
01330         <a class="code" href="PVRTGlobal_8h.html#a9">_ASSERT</a>(recDet!=0);
01331         recDet = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1.0f),recDet);
01332 
01333         <span class="comment">//TODO: deal with singular matrices with more than just an assert</span>
01334 
01335         <span class="comment">// inverse is 1/det * adjoint of M</span>
01336 
01337         <span class="comment">// adjoint is transpose of cofactor matrix</span>
01338 
01339         <span class="comment">// do transpose and cofactors in one step</span>
01340 
01341         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],f[8]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],f[7]);
01342         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],f[7]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[8]);
01343         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[5]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],f[4]);
01344 
01345         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],f[6]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],f[8]);
01346         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],f[8]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],f[6]);
01347         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],f[3]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],f[5]);
01348 
01349         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],f[7]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],f[6]);
01350         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[6]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],f[7]);
01351         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],f[4]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[3]);
01352 
01353         out *= recDet;
01354         <span class="keywordflow">return</span> out;
01355     }
<a name="l01356"></a><a class="code" href="structPVRTMat3.html#a12">01356</a> 
01357 <span class="comment">/*!***************************************************************************</span>
01358 <span class="comment"> @Function          transpose</span>
01359 <span class="comment"> @Returns           transpose 3x3 matrix</span>
01360 <span class="comment"> @Description       Calculates the transpose of this matrix</span>
01361 <span class="comment">*****************************************************************************/</span>
01362     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a17">transpose</a>()<span class="keyword"> const</span>
01363 <span class="keyword">    </span>{
01364         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01365         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] = f[0];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] = f[1];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] = f[2];
01366         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] = f[3];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] = f[4];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] = f[5];
01367         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] = f[6];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] = f[7];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] = f[8];
01368         <span class="keywordflow">return</span> out;
01369     }
01370 
<a name="l01371"></a><a class="code" href="structPVRTMat3.html#a13">01371</a> <span class="comment">/*!***************************************************************************</span>
01372 <span class="comment"> @Function          ptr</span>
01373 <span class="comment"> @Returns           pointer to an array of the elements of this PVRTMat3</span>
01374 <span class="comment"> @Description       Calculates transpose of this matrix</span>
01375 <span class="comment">*****************************************************************************/</span>
01376     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTMat3.html#a18">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)&amp;f; }
01377 
01378 <span class="comment">/*!***************************************************************************</span>
01379 <span class="comment">** Static factory functions</span>
01380 <span class="comment">*****************************************************************************/</span>
01381 <span class="comment">/*!***************************************************************************</span>
01382 <span class="comment"> @Function          Identity</span>
01383 <span class="comment"> @Returns           a PVRTMat3 representation of the 3x3 identity matrix</span>
01384 <span class="comment"> @Description       Generates an identity matrix</span>
01385 <span class="comment">*****************************************************************************/</span>
01386     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e0">Identity</a>()
<a name="l01387"></a><a class="code" href="structPVRTMat3.html#a14">01387</a>     {
01388         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01389         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] = 1;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] = 0;
01390         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] = 1;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] = 0;
01391         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] = 1;
01392         <span class="keywordflow">return</span> out;
01393     }
01394 
01395 <span class="comment">/*!***************************************************************************</span>
01396 <span class="comment"> @Function          RotationX</span>
01397 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01398 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01399 <span class="comment">                    degrees about the X axis</span>
01400 <span class="comment">*****************************************************************************/</span>
01401     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e1">RotationX</a>(VERTTYPE angle);
01402 
01403 <span class="comment">/*!***************************************************************************</span>
01404 <span class="comment"> @Function          RotationY</span>
01405 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01406 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01407 <span class="comment">                    degrees about the Y axis</span>
<a name="l01408"></a><a class="code" href="structPVRTMat3.html#a15">01408</a> <span class="comment">*****************************************************************************/</span>
01409     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e2">RotationY</a>(VERTTYPE angle);
01410 
01411 <span class="comment">/*!***************************************************************************</span>
01412 <span class="comment"> @Function          RotationZ</span>
01413 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01414 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01415 <span class="comment">                    degrees about the Z axis</span>
01416 <span class="comment">*****************************************************************************/</span>
01417     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e3">RotationZ</a>(VERTTYPE angle);
01418 
01419 <span class="comment">/*!***************************************************************************</span>
01420 <span class="comment"> @Function          Scale</span>
<a name="l01421"></a><a class="code" href="structPVRTMat3.html#a16">01421</a> <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested scaling transformation</span>
01422 <span class="comment"> @Description       Calculates a matrix corresponding to scaling of fx, fy and fz</span>
01423 <span class="comment">                    times in each axis.</span>
01424 <span class="comment">*****************************************************************************/</span>
01425     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e4">Scale</a>(<span class="keyword">const</span> VERTTYPE fx,<span class="keyword">const</span> VERTTYPE fy,<span class="keyword">const</span> VERTTYPE fz)
01426     {
01427         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(fx,0,0,
01428             0,fy,0,
01429             0,0,fz);
01430     }
01431 
01432 
01433 <span class="comment">/*!***************************************************************************</span>
01434 <span class="comment"> @Function          Translation</span>
01435 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested translation</span>
01436 <span class="comment"> @Description       Calculates a matrix corresponding to a transformation</span>
01437 <span class="comment">                    of tx and ty times in each axis.</span>
01438 <span class="comment">*****************************************************************************/</span>
01439     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e5">Translation</a>(<span class="keyword">const</span> VERTTYPE tx, <span class="keyword">const</span> VERTTYPE ty)
01440     {
01441         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>( <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),    0,  0,
01442             0,    <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),  0,
01443             tx,  ty,  <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1));
01444     }
01445 
01446 };
01447 
01448 <span class="comment">/*!***************************************************************************</span>
01449 <span class="comment">** PVRTMat4 4x4 Matrix</span>
01450 <span class="comment">****************************************************************************/</span>
01451 <span class="keyword">struct </span><a class="code" href="structPVRTMat4.html">PVRTMat4</a> : <span class="keyword">public</span> <a class="code" href="classPVRTMATRIXf.html">PVRTMATRIX</a>
01452 {
01453 <span class="comment">/*!***************************************************************************</span>
01454 <span class="comment">** Constructors</span>
01455 <span class="comment">****************************************************************************/</span>
01456 <span class="comment">/*!***************************************************************************</span>
01457 <span class="comment"> @Function          PVRTMat4</span>
01458 <span class="comment"> @Description       Blank constructor.</span>
01459 <span class="comment">*****************************************************************************/</span>
<a name="l01460"></a><a class="code" href="structPVRTMat3.html#a17">01460</a>     <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(){}
01461 <span class="comment">/*!***************************************************************************</span>
01462 <span class="comment"> @Function          PVRTMat4</span>
01463 <span class="comment"> @Input             m0 matrix value</span>
01464 <span class="comment"> @Input             m1 matrix value</span>
01465 <span class="comment"> @Input             m2 matrix value</span>
01466 <span class="comment"> @Input             m3 matrix value</span>
01467 <span class="comment"> @Input             m4 matrix value</span>
01468 <span class="comment"> @Input             m5 matrix value</span>
01469 <span class="comment"> @Input             m6 matrix value</span>
01470 <span class="comment"> @Input             m7 matrix value</span>
01471 <span class="comment"> @Input             m8 matrix value</span>
01472 <span class="comment"> @Input             m9 matrix value</span>
01473 <span class="comment"> @Input             m10 matrix value</span>
01474 <span class="comment"> @Input             m11 matrix value</span>
<a name="l01475"></a><a class="code" href="structPVRTMat3.html#a18">01475</a> <span class="comment"> @Input             m12 matrix value</span>
01476 <span class="comment"> @Input             m13 matrix value</span>
01477 <span class="comment"> @Input             m14 matrix value</span>
01478 <span class="comment"> @Input             m15 matrix value</span>
01479 <span class="comment"> @Description       Constructor from array.</span>
01480 <span class="comment">*****************************************************************************/</span>
01481     <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(VERTTYPE m0,VERTTYPE m1,VERTTYPE m2,VERTTYPE m3,
01482         VERTTYPE m4,VERTTYPE m5,VERTTYPE m6,VERTTYPE m7,
01483         VERTTYPE m8,VERTTYPE m9,VERTTYPE m10,VERTTYPE m11,
01484         VERTTYPE m12,VERTTYPE m13,VERTTYPE m14,VERTTYPE m15)
01485     {
<a name="l01486"></a><a class="code" href="structPVRTMat3.html#e0">01486</a>         f[0]=m0;f[1]=m1;f[2]=m2;f[3]=m3;
01487         f[4]=m4;f[5]=m5;f[6]=m6;f[7]=m7;
01488         f[8]=m8;f[9]=m9;f[10]=m10;f[11]=m11;
01489         f[12]=m12;f[13]=m13;f[14]=m14;f[15]=m15;
01490     }
01491 <span class="comment">/*!***************************************************************************</span>
01492 <span class="comment"> @Function          PVRTMat4</span>
01493 <span class="comment"> @Input             mat A pointer to an array of 16 VERTTYPEs</span>
01494 <span class="comment"> @Description       Constructor from distinct values.</span>
01495 <span class="comment">*****************************************************************************/</span>
01496     <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(<span class="keyword">const</span> VERTTYPE* mat)
01497     {
01498         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>* ptr = f;
01499         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01500         {
01501             (*ptr++)=(*mat++);
01502         }
01503     }
01504 
01505 <span class="comment">/****************************************************************************</span>
01506 <span class="comment">** PVRTMat4 OPERATORS</span>
01507 <span class="comment">****************************************************************************/</span>
01508 <span class="comment">/*!***************************************************************************</span>
01509 <span class="comment"> @Function          ()</span>
01510 <span class="comment"> @Input             r - row of matrix</span>
01511 <span class="comment"> @Input             c - column of matrix</span>
01512 <span class="comment"> @Returns           value of element</span>
01513 <span class="comment"> @Description       Returns value of the element at row r and colun c of the</span>
01514 <span class="comment">                    PVRTMat4</span>
01515 <span class="comment">*****************************************************************************/</span>
01516     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat4.html#a3">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">int</span> c)
01517     {
01518         <span class="keywordflow">return</span> f[c*4+r];
01519     }
01520 
01521 <span class="comment">/*!***************************************************************************</span>
01522 <span class="comment"> @Function          ()</span>
01523 <span class="comment"> @Input             r - row of matrix</span>
01524 <span class="comment"> @Input             c - column of matrix</span>
01525 <span class="comment"> @Returns           value of element</span>
01526 <span class="comment"> @Description       Returns value of the element at row r and colun c of the</span>
01527 <span class="comment">                    PVRTMat4</span>
01528 <span class="comment">*****************************************************************************/</span>
<a name="l01529"></a><a class="code" href="structPVRTMat3.html#e4">01529</a>     <span class="keyword">const</span> <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat4.html#a3">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">int</span> c)<span class="keyword"> const</span>
01530 <span class="keyword">    </span>{
01531         <span class="keywordflow">return</span> f[c*4+r];
01532     }
01533 
01534 <span class="comment">/*!***************************************************************************</span>
01535 <span class="comment"> @Function          *</span>
01536 <span class="comment"> @Input             rhs another PVRTMat4</span>
01537 <span class="comment"> @Returns           result of multiplication</span>
01538 <span class="comment"> @Description       Matrix multiplication of two 4x4 matrices.</span>
01539 <span class="comment">*****************************************************************************/</span>
01540     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a5">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs) <span class="keyword">const</span>;
01541 
01542 <span class="comment">/*!***************************************************************************</span>
01543 <span class="comment"> @Function          +</span>
<a name="l01544"></a><a class="code" href="structPVRTMat3.html#e5">01544</a> <span class="comment"> @Input             rhs another PVRTMat4</span>
01545 <span class="comment"> @Returns           result of addition</span>
01546 <span class="comment"> @Description       element by element addition operator.</span>
01547 <span class="comment">*****************************************************************************/</span>
01548     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a6">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)<span class="keyword"> const</span>
01549 <span class="keyword">    </span>{
01550         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01551         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *lptr = f, *rptr = rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01552         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *outptr = out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01553         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01554         {
01555             (*outptr++) = (*lptr++) + (*rptr++);
<a name="l01556"></a><a class="code" href="structPVRTMat4.html">01556</a>         }
01557         <span class="keywordflow">return</span> out;
01558     }
01559 
01560 <span class="comment">/*!***************************************************************************</span>
01561 <span class="comment"> @Function          -</span>
01562 <span class="comment"> @Input             rhs another PVRTMat4</span>
01563 <span class="comment"> @Returns           result of subtraction</span>
01564 <span class="comment"> @Description       element by element subtraction operator.</span>
01565 <span class="comment">*****************************************************************************/</span>
<a name="l01566"></a><a class="code" href="structPVRTMat4.html#a0">01566</a>     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a7">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)<span class="keyword"> const</span>
01567 <span class="keyword">    </span>{
01568         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01569         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01570         {
01571             out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i] = f[i]-rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i];
01572         }
01573         <span class="keywordflow">return</span> out;
01574     }
01575 
01576 <span class="comment">/*!***************************************************************************</span>
01577 <span class="comment"> @Function          +=</span>
01578 <span class="comment"> @Input             rhs another PVRTMat4</span>
01579 <span class="comment"> @Returns           result of addition and assignment</span>
01580 <span class="comment"> @Description       element by element addition and assignment operator.</span>
01581 <span class="comment">*****************************************************************************/</span>
01582     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a8">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01583     {
01584         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *lptr = f;
01585         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01586         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01587         {
<a name="l01588"></a><a class="code" href="structPVRTMat4.html#a1">01588</a>             (*lptr++) += (*rptr++);
01589         }
01590         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01591     }
01592 
01593 <span class="comment">/*!***************************************************************************</span>
01594 <span class="comment"> @Function          -=</span>
01595 <span class="comment"> @Input             rhs another PVRTMat4</span>
01596 <span class="comment"> @Returns           result of subtraction and assignment</span>
01597 <span class="comment"> @Description       element by element subtraction and assignment operator.</span>
01598 <span class="comment">*****************************************************************************/</span>
01599     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a9">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01600     {
01601         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *lptr = f;
01602         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01603         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
<a name="l01604"></a><a class="code" href="structPVRTMat4.html#a2">01604</a>         {
01605             (*lptr++) -= (*rptr++);
01606         }
01607         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01608     }
01609 
01610 
01611 <span class="comment">/*!***************************************************************************</span>
01612 <span class="comment"> @Function          *=</span>
01613 <span class="comment"> @Input             rhs another PVRTMat4</span>
01614 <span class="comment"> @Returns           result of multiplication and assignment</span>
01615 <span class="comment"> @Description       Matrix multiplication and assignment of two 4x4 matrices.</span>
01616 <span class="comment">*****************************************************************************/</span>
01617     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01618     {
01619         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
01620         <span class="comment">// col 0</span>
01621         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
01622         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
01623         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
01624         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
<a name="l01625"></a><a class="code" href="structPVRTMat4.html#a3">01625</a> 
01626         <span class="comment">// col 1</span>
01627         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01628         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01629         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01630         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01631 
01632         <span class="comment">// col 2</span>
01633         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01634         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01635         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01636         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01637 
01638         <span class="comment">// col 3</span>
<a name="l01639"></a><a class="code" href="structPVRTMat4.html#a4">01639</a>         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01640         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01641         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01642         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01643 
01644         *<span class="keyword">this</span> = result;
01645         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01646     }
01647 
01648 <span class="comment">/*!***************************************************************************</span>
01649 <span class="comment"> @Function          *</span>
01650 <span class="comment"> @Input             rhs a single value</span>
01651 <span class="comment"> @Returns           result of multiplication and assignment</span>
01652 <span class="comment"> @Description       element multiplication by a single value.</span>
01653 <span class="comment">*****************************************************************************/</span>
01654     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a5">operator*</a>(<span class="keyword">const</span> VERTTYPE rhs)
01655     {
01656         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;16; ++i)
01657         {
01658             f[i]*=rhs;
01659         }
<a name="l01660"></a><a class="code" href="structPVRTMat4.html#a6">01660</a>         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01661     }
01662 <span class="comment">/*!***************************************************************************</span>
01663 <span class="comment"> @Function          *=</span>
01664 <span class="comment"> @Input             rhs a single value</span>
01665 <span class="comment"> @Returns           result of multiplication and assignment</span>
01666 <span class="comment"> @Description       element multiplication and assignment by a single value.</span>
01667 <span class="comment">*****************************************************************************/</span>
01668     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a10">operator*=</a>(<span class="keyword">const</span> VERTTYPE rhs)
01669     {
01670         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;16; ++i)
01671         {
01672             f[i]*=rhs;
01673         }
01674         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01675     }
01676 
01677 <span class="comment">/*!***************************************************************************</span>
01678 <span class="comment"> @Function          =</span>
<a name="l01679"></a><a class="code" href="structPVRTMat4.html#a7">01679</a> <span class="comment"> @Input             rhs another PVRTMat4</span>
01680 <span class="comment"> @Returns           result of assignment</span>
01681 <span class="comment"> @Description       element assignment operator.</span>
01682 <span class="comment">*****************************************************************************/</span>
01683     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a13">operator=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01684     {
01685         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;16; ++i)
01686         {
01687             f[i] =rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i];
01688         }
01689         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01690     }
01691 <span class="comment">/*!***************************************************************************</span>
01692 <span class="comment"> @Function          *</span>
01693 <span class="comment"> @Input             rhs a PVRTVec4</span>
01694 <span class="comment"> @Returns           result of multiplication</span>
01695 <span class="comment"> @Description       Matrix multiplication of 4x4 matrix and vec3</span>
<a name="l01696"></a><a class="code" href="structPVRTMat4.html#a8">01696</a> <span class="comment">*****************************************************************************/</span>
01697     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTMat4.html#a5">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
01698 <span class="keyword">    </span>{
01699         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
01700         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[12]);
01701         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[13]);
01702         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[14]);
01703         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[11])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[15]);
01704 
01705         <span class="keywordflow">return</span> out;
01706     }
01707 
01708 <span class="comment">/*!***************************************************************************</span>
01709 <span class="comment"> @Function          *=</span>
01710 <span class="comment"> @Input             rhs a PVRTVec4</span>
01711 <span class="comment"> @Returns           result of multiplication and assignment</span>
01712 <span class="comment"> @Description       Matrix multiplication and assignment of 4x4 matrix and vec3</span>
01713 <span class="comment">*****************************************************************************/</span>
<a name="l01714"></a><a class="code" href="structPVRTMat4.html#a9">01714</a>     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTMat4.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
01715 <span class="keyword">    </span>{
01716         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
01717         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[12]);
01718         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[13]);
01719         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[14]);
01720         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[11])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[15]);
01721 
01722         <span class="keywordflow">return</span> out;
01723     }
01724 
01725 <span class="comment">/*!***************************************************************************</span>
01726 <span class="comment"> @Function          inverse</span>
01727 <span class="comment"> @Returns           inverse mat4</span>
01728 <span class="comment"> @Description       Calculates multiplicative inverse of this matrix</span>
01729 <span class="comment">                    The matrix must be of the form :</span>
01730 <span class="comment">                    A 0</span>
01731 <span class="comment">                    C 1</span>
01732 <span class="comment">                    Where A is a 3x3 matrix and C is a 1x3 matrix.</span>
<a name="l01733"></a><a class="code" href="structPVRTMat4.html#a10">01733</a> <span class="comment">*****************************************************************************/</span>
01734     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a16">inverse</a>() <span class="keyword">const</span>;
01735 
01736 <span class="comment">/*!***************************************************************************</span>
01737 <span class="comment"> @Function          inverseEx</span>
01738 <span class="comment"> @Returns           inverse mat4</span>
01739 <span class="comment"> @Description       Calculates multiplicative inverse of this matrix</span>
01740 <span class="comment">                    Uses a linear equation solver and the knowledge that M.M^-1=I.</span>
01741 <span class="comment">                    Use this fn to calculate the inverse of matrices that</span>
01742 <span class="comment">                    inverse() cannot.</span>
01743 <span class="comment">*****************************************************************************/</span>
01744     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a17">inverseEx</a>()<span class="keyword"> const</span>
01745 <span class="keyword">    </span>{
01746         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01747         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>        *ppRows[4];
01748         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>        pRes[4];
01749         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>        pIn[20];
01750         <span class="keywordtype">int</span>             i, j;
01751 
01752         <span class="keywordflow">for</span>(i = 0; i &lt; 4; ++i)
01753             ppRows[i] = &amp;pIn[i * 5];
01754 
01755         <span class="comment">/* Solve 4 sets of 4 linear equations */</span>
01756         <span class="keywordflow">for</span>(i = 0; i &lt; 4; ++i)
01757         {
01758             <span class="keywordflow">for</span>(j = 0; j &lt; 4; ++j)
01759             {
01760                 ppRows[j][0] = <a class="code" href="structPVRTMat4.html#e0">PVRTMat4::Identity</a>().<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i + 4 * j];
01761                 memcpy(&amp;ppRows[j][1], &amp;f[j * 4], 4 * <span class="keyword">sizeof</span>(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>));
01762             }
01763 
01764             <a class="code" href="PVRTVector_8h.html#a0">PVRTLinearEqSolve</a>(pRes, (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>**)ppRows, 4);
01765 
01766             <span class="keywordflow">for</span>(j = 0; j &lt; 4; ++j)
01767             {
01768                 out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i + 4 * j] = pRes[j];
01769             }
01770         }
<a name="l01771"></a><a class="code" href="structPVRTMat4.html#a11">01771</a> 
01772         <span class="keywordflow">return</span> out;
01773     }
01774 
01775 <span class="comment">/*!***************************************************************************</span>
01776 <span class="comment"> @Function          transpose</span>
01777 <span class="comment"> @Returns           transpose mat4</span>
01778 <span class="comment"> @Description       Calculates transpose of this matrix</span>
01779 <span class="comment">*****************************************************************************/</span>
01780     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a18">transpose</a>()<span class="keyword"> const</span>
01781 <span class="keyword">    </span>{
01782         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01783         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = f[0];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = f[4];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = f[8];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = f[12];
01784         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4] = f[1];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5] = f[5];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6] = f[9];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7] = f[13];
01785         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8] = f[2];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9] = f[6];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] = f[10];      out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] = f[14];
<a name="l01786"></a><a class="code" href="structPVRTMat4.html#a12">01786</a>         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12] = f[3];       out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13] = f[7];       out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14] = f[11];      out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15] = f[15];
01787         <span class="keywordflow">return</span> out;
01788     }
01789 
01790 <span class="comment">/*!***************************************************************************</span>
01791 <span class="comment"> @Function          postTranslate</span>
01792 <span class="comment"> @Input             tx distance of translation in x axis</span>
01793 <span class="comment"> @Input             ty distance of translation in y axis</span>
01794 <span class="comment"> @Input             tz distance of translation in z axis</span>
01795 <span class="comment"> @Returns           Returns the translation defined by the passed parameters</span>
01796 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01797 <span class="comment">*****************************************************************************/</span>
01798     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(VERTTYPE tx, VERTTYPE ty, VERTTYPE tz)
01799     {
01800         f[12] += <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tx,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(ty,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tz,f[8]);
01801         f[13] += <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tx,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(ty,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tz,f[9]);
<a name="l01802"></a><a class="code" href="structPVRTMat4.html#a13">01802</a>         f[14] += <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tx,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(ty,f[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tz,f[10]);
01803         f[15] += <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tx,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(ty,f[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tz,f[11]);
01804 
01805 <span class="comment">//          col(3) += tx * col(0) + ty * col(1) + tz * col(2);</span>
01806         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01807     }
01808 
01809 <span class="comment">/*!***************************************************************************</span>
01810 <span class="comment"> @Function          postTranslate</span>
01811 <span class="comment"> @Input             tvec translation vector</span>
01812 <span class="comment"> @Returns           Returns the translation defined by the passed parameters</span>
01813 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01814 <span class="comment">*****************************************************************************/</span>
01815     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; tvec)
01816     {
<a name="l01817"></a><a class="code" href="structPVRTMat4.html#a14">01817</a>         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(tvec.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
01818     }
01819 
01820 <span class="comment">/*!***************************************************************************</span>
01821 <span class="comment"> @Function          postTranslate</span>
01822 <span class="comment"> @Input             tx distance of translation in x axis</span>
01823 <span class="comment"> @Input             ty distance of translation in y axis</span>
01824 <span class="comment"> @Input             tz distance of translation in z axis</span>
01825 <span class="comment"> @Returns           Returns the translation defined by the passed parameters</span>
01826 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01827 <span class="comment">*****************************************************************************/</span>
01828     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a21">preTranslate</a>(VERTTYPE tx, VERTTYPE ty, VERTTYPE tz)
01829     {
01830         f[0]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],tx); f[4]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],tx); f[8]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],tx);    f[12]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],tx);
01831         f[1]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],ty); f[5]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],ty); f[9]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],ty);    f[13]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],ty);
01832         f[2]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],tz); f[6]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],tz); f[10]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],tz);   f[14]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],tz);
01833 
01834 <span class="comment">//          row(0) += tx * row(3);</span>
<a name="l01835"></a><a class="code" href="structPVRTMat4.html#a15">01835</a> <span class="comment">//          row(1) += ty * row(3);</span>
01836 <span class="comment">//          row(2) += tz * row(3);</span>
01837         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01838     }
01839 
01840 <span class="comment">/*!***************************************************************************</span>
01841 <span class="comment"> @Function          postTranslate</span>
01842 <span class="comment"> @Input             tvec translation vector</span>
01843 <span class="comment"> @Returns           Returns the translation defined by the passed parameters</span>
01844 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01845 <span class="comment">*****************************************************************************/</span>
01846     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a21">preTranslate</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; tvec)
01847     {
01848         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a21">preTranslate</a>(tvec.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
01849     }
01850 <span class="comment">/*!***************************************************************************</span>
01851 <span class="comment"> @Function          ptr</span>
01852 <span class="comment"> @Returns           pointer to an array of the elements of this PVRTMat4</span>
01853 <span class="comment"> @Description       Calculates transpose of this matrix</span>
01854 <span class="comment">*****************************************************************************/</span>
01855     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTMat4.html#a23">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)&amp;f; }
01856 
01857 <span class="comment">/*!***************************************************************************</span>
01858 <span class="comment">** Static factory functions</span>
01859 <span class="comment">*****************************************************************************/</span>
01860 <span class="comment">/*!***************************************************************************</span>
01861 <span class="comment"> @Function          Identity</span>
01862 <span class="comment"> @Returns           a PVRTMat4 representation of the 4x4 identity matrix</span>
01863 <span class="comment"> @Description       Generates an identity matrix</span>
01864 <span class="comment">*****************************************************************************/</span>
01865     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e0">Identity</a>()
01866     {
<a name="l01867"></a><a class="code" href="structPVRTMat4.html#a17">01867</a>         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01868         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = 0;
01869         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7] = 0;
01870         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] = 0;
01871         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);
01872         <span class="keywordflow">return</span> out;
01873     }
01874 
01875 <span class="comment">/*!***************************************************************************</span>
01876 <span class="comment"> @Function          RotationX</span>
01877 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01878 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01879 <span class="comment">                    degrees about the X axis</span>
01880 <span class="comment">*****************************************************************************/</span>
01881     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e1">RotationX</a>(VERTTYPE angle);
01882 <span class="comment">/*!***************************************************************************</span>
01883 <span class="comment"> @Function          RotationY</span>
01884 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01885 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01886 <span class="comment">                    degrees about the Y axis</span>
01887 <span class="comment">*****************************************************************************/</span>
01888     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e2">RotationY</a>(VERTTYPE angle);
01889 <span class="comment">/*!***************************************************************************</span>
01890 <span class="comment"> @Function          RotationZ</span>
01891 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01892 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01893 <span class="comment">                    degrees about the Z axis</span>
01894 <span class="comment">*****************************************************************************/</span>
01895     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e3">RotationZ</a>(VERTTYPE angle);
01896 
01897 <span class="comment">/*!***************************************************************************</span>
01898 <span class="comment"> @Function          Scale</span>
01899 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested scaling transformation</span>
01900 <span class="comment"> @Description       Calculates a matrix corresponding to scaling of fx, fy and fz</span>
01901 <span class="comment">                    times in each axis.</span>
01902 <span class="comment">*****************************************************************************/</span>
01903     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e4">Scale</a>(<span class="keyword">const</span> VERTTYPE fx,<span class="keyword">const</span> VERTTYPE fy,<span class="keyword">const</span> VERTTYPE fz)
<a name="l01904"></a><a class="code" href="structPVRTMat4.html#a18">01904</a>     {
01905         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(fx,0,0,0,
01906             0,fy,0,0,
01907             0,0,fz,0,
01908             0,0,0,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1));
01909     }
01910 
01911 <span class="comment">/*!***************************************************************************</span>
01912 <span class="comment"> @Function          Translation</span>
01913 <span class="comment"> @Returns           a PVRTMat4 corresponding to the requested translation</span>
01914 <span class="comment"> @Description       Calculates a 4x4 matrix corresponding to a transformation</span>
01915 <span class="comment">                    of tx, ty and tz distance in each axis.</span>
01916 <span class="comment">*****************************************************************************/</span>
01917     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e5">Translation</a>(<span class="keyword">const</span> VERTTYPE tx, <span class="keyword">const</span> VERTTYPE ty, <span class="keyword">const</span> VERTTYPE tz)
01918     {
01919         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),0,0,0,
01920             0,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),0,0,
01921             0,0,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),0,
01922             tx,ty,tz,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1));
<a name="l01923"></a><a class="code" href="structPVRTMat4.html#a19">01923</a>     }
01924 
01925 <span class="comment">/*!***************************************************************************</span>
01926 <span class="comment">** Clipspace enum</span>
01927 <span class="comment">** Determines whether clip space Z ranges from -1 to 1 (OGL) or from 0 to 1 (D3D)</span>
01928 <span class="comment">*****************************************************************************/</span>
01929     <span class="keyword">enum</span> eClipspace { OGL, D3D };
01930 
01931 <span class="comment">/*!***************************************************************************</span>
01932 <span class="comment"> @Function          Ortho</span>
01933 <span class="comment"> @Input             left view plane</span>
01934 <span class="comment"> @Input             top view plane</span>
01935 <span class="comment"> @Input             right view plane</span>
01936 <span class="comment"> @Input             bottom view plane</span>
01937 <span class="comment"> @Input             nearPlane the near rendering plane</span>
01938 <span class="comment"> @Input             farPlane the far rendering plane</span>
01939 <span class="comment"> @Input             cs which clipspace convention is being used</span>
01940 <span class="comment"> @Input             bRotate is the viewport in portrait or landscape mode</span>
<a name="l01941"></a><a class="code" href="structPVRTMat4.html#a20">01941</a> <span class="comment"> @Returns           Returns the orthogonal projection matrix defined by the passed parameters</span>
01942 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01943 <span class="comment">*****************************************************************************/</span>
01944     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e6">Ortho</a>(VERTTYPE left, VERTTYPE top, VERTTYPE right,
01945         VERTTYPE bottom, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
01946     {
01947         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> rcplmr = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>(1),(left - right));
01948         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> rcpbmt = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>(1),(bottom - top));
01949         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> rcpnmf = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>(1),(nearPlane - farPlane));
01950 
01951         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
01952 
01953         <span class="keywordflow">if</span> (bRotate)
01954         {
<a name="l01955"></a><a class="code" href="structPVRTMat4.html#a21">01955</a>             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0]=0;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(2,rcplmr); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-(right+left),rcplmr);
01956             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-2,rcpbmt); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>((top+bottom),rcpbmt);
01957         }
01958         <span class="keywordflow">else</span>
01959         {
01960             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-2,rcplmr); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(right+left,rcplmr);
01961             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1]=0;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-2,rcpbmt); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>((top+bottom),rcpbmt);
01962         }
01963         <span class="keywordflow">if</span> (cs == <a class="code" href="structPVRTMat4.html#w2w1">D3D</a>)
01964         {
01965             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=-rcpnmf;   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(nearPlane,rcpnmf);
01966         }
01967         <span class="keywordflow">else</span>
01968         {
01969             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-2,rcpnmf);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(nearPlane + farPlane,rcpnmf);
01970         }
01971         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=1;
01972 
01973         <span class="keywordflow">return</span> result;
<a name="l01974"></a><a class="code" href="structPVRTMat4.html#a22">01974</a>     }
01975 
01976 
01977 <span class="comment">/*!***************************************************************************</span>
01978 <span class="comment"> @Function          LookAtRH</span>
01979 <span class="comment"> @Input             vEye position of 'camera'</span>
01980 <span class="comment"> @Input             vAt target that camera points at</span>
01981 <span class="comment"> @Input             vUp up vector for camera</span>
01982 <span class="comment"> @Returns           Returns the view matrix defined by the passed parameters</span>
01983 <span class="comment"> @Description       Create a look-at view matrix for a right hand coordinate</span>
<a name="l01984"></a><a class="code" href="structPVRTMat4.html#a23">01984</a> <span class="comment">                    system</span>
01985 <span class="comment">*****************************************************************************/</span>
01986     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e7">LookAtRH</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vEye, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vAt, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vUp)
01987         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e17">LookAt</a>(vEye, vAt, vUp, <span class="keyword">true</span>); }
01988 <span class="comment">/*!***************************************************************************</span>
01989 <span class="comment"> @Function          LookAtLH</span>
01990 <span class="comment"> @Input             vEye position of 'camera'</span>
01991 <span class="comment"> @Input             vAt target that camera points at</span>
01992 <span class="comment"> @Input             vUp up vector for camera</span>
01993 <span class="comment"> @Returns           Returns the view matrix defined by the passed parameters</span>
01994 <span class="comment"> @Description       Create a look-at view matrix for a left hand coordinate</span>
<a name="l01995"></a><a class="code" href="structPVRTMat4.html#e0">01995</a> <span class="comment">                    system</span>
01996 <span class="comment">*****************************************************************************/</span>
01997     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e8">LookAtLH</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vEye, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vAt, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vUp)
01998         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e17">LookAt</a>(vEye, vAt, vUp, <span class="keyword">false</span>); }
01999 
02000 <span class="comment">/*!***************************************************************************</span>
02001 <span class="comment"> @Function      PerspectiveRH</span>
02002 <span class="comment"> @Input         width       width of viewplane</span>
02003 <span class="comment"> @Input         height      height of viewplane</span>
02004 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02005 <span class="comment"> @Input         farPlane    far clipping distance</span>
02006 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02007 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02008 <span class="comment"> @Returns       Perspective matrix</span>
02009 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
02010 <span class="comment">                system</span>
02011 <span class="comment">*****************************************************************************/</span>
02012     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e9">PerspectiveRH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane,
02013         VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02014         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(width, height, nearPlane, farPlane, cs, <span class="keyword">true</span>, bRotate); }
02015 
02016 <span class="comment">/*!***************************************************************************</span>
02017 <span class="comment"> @Function      PerspectiveLH</span>
02018 <span class="comment"> @Input         width       width of viewplane</span>
02019 <span class="comment"> @Input         height      height of viewplane</span>
02020 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02021 <span class="comment"> @Input         farPlane    far clipping distance</span>
02022 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02023 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02024 <span class="comment"> @Returns       Perspective matrix</span>
02025 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
02026 <span class="comment">                system</span>
02027 <span class="comment">*****************************************************************************/</span>
02028     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e10">PerspectiveLH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02029         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(width, height, nearPlane, farPlane, cs, <span class="keyword">false</span>, bRotate); }
02030 
02031 <span class="comment">/*!***************************************************************************</span>
02032 <span class="comment"> @Function      PerspectiveFloatDepthRH</span>
02033 <span class="comment"> @Input         width       width of viewplane</span>
02034 <span class="comment"> @Input         height      height of viewplane</span>
02035 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02036 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
<a name="l02037"></a><a class="code" href="structPVRTMat4.html#e4">02037</a> <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02038 <span class="comment"> @Returns       Perspective matrix</span>
02039 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
02040 <span class="comment">                system</span>
02041 <span class="comment">*****************************************************************************/</span>
02042     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e11">PerspectiveFloatDepthRH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02043         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(width, height, nearPlane, cs, <span class="keyword">true</span>, bRotate); }
02044 
02045 <span class="comment">/*!***************************************************************************</span>
02046 <span class="comment"> @Function      PerspectiveFloatDepthLH</span>
02047 <span class="comment"> @Input         width       width of viewplane</span>
02048 <span class="comment"> @Input         height      height of viewplane</span>
02049 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02050 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02051 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
<a name="l02052"></a><a class="code" href="structPVRTMat4.html#e5">02052</a> <span class="comment"> @Returns       Perspective matrix</span>
02053 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
02054 <span class="comment">                system</span>
02055 <span class="comment">*****************************************************************************/</span>
02056     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e12">PerspectiveFloatDepthLH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02057         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(width, height, nearPlane, cs, <span class="keyword">false</span>, bRotate); }
02058 
02059 <span class="comment">/*!***************************************************************************</span>
02060 <span class="comment"> @Function      PerspectiveFovRH</span>
02061 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02062 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02063 <span class="comment"> @Input         nearPlane   near clipping distance</span>
<a name="l02064"></a><a class="code" href="structPVRTMat4.html#w2">02064</a> <span class="comment"> @Input         farPlane    far clipping distance</span>
02065 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02066 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02067 <span class="comment"> @Returns       Perspective matrix</span>
02068 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
02069 <span class="comment">                system</span>
02070 <span class="comment">*****************************************************************************/</span>
02071     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e13">PerspectiveFovRH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02072         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e20">PerspectiveFov</a>(fovy, aspect, nearPlane, farPlane, cs, <span class="keyword">true</span>, bRotate); }
02073 <span class="comment">/*!***************************************************************************</span>
02074 <span class="comment"> @Function      PerspectiveFovLH</span>
02075 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02076 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02077 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02078 <span class="comment"> @Input         farPlane    far clipping distance</span>
02079 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
<a name="l02080"></a><a class="code" href="structPVRTMat4.html#e6">02080</a> <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02081 <span class="comment"> @Returns       Perspective matrix</span>
02082 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
02083 <span class="comment">                system</span>
02084 <span class="comment">*****************************************************************************/</span>
02085     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e14">PerspectiveFovLH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02086         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e20">PerspectiveFov</a>(fovy, aspect, nearPlane, farPlane, cs, <span class="keyword">false</span>, bRotate); }
02087 
02088 <span class="comment">/*!***************************************************************************</span>
02089 <span class="comment"> @Function      PerspectiveFovRH</span>
02090 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02091 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02092 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02093 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02094 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02095 <span class="comment"> @Returns       Perspective matrix</span>
02096 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
02097 <span class="comment">                system</span>
02098 <span class="comment">*****************************************************************************/</span>
02099     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e15">PerspectiveFovFloatDepthRH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02100         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e21">PerspectiveFovFloatDepth</a>(fovy, aspect, nearPlane, cs, <span class="keyword">true</span>, bRotate); }
02101 <span class="comment">/*!***************************************************************************</span>
02102 <span class="comment"> @Function      PerspectiveFovLH</span>
02103 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02104 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02105 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02106 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02107 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02108 <span class="comment"> @Returns       Perspective matrix</span>
02109 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
02110 <span class="comment">                system</span>
02111 <span class="comment">*****************************************************************************/</span>
02112     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e16">PerspectiveFovFloatDepthLH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02113         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e21">PerspectiveFovFloatDepth</a>(fovy, aspect, nearPlane, cs, <span class="keyword">false</span>, bRotate); }
02114 
02115 <span class="comment">/*!***************************************************************************</span>
02116 <span class="comment"> @Function          LookAt</span>
02117 <span class="comment"> @Input             vEye position of 'camera'</span>
02118 <span class="comment"> @Input             vAt target that camera points at</span>
02119 <span class="comment"> @Input             vUp up vector for camera</span>
02120 <span class="comment"> @Input             bRightHanded handedness of coordinate system</span>
02121 <span class="comment"> @Returns           Returns the view matrix defined by the passed parameters</span>
02122 <span class="comment"> @Description       Create a look-at view matrix</span>
<a name="l02123"></a><a class="code" href="structPVRTMat4.html#e7">02123</a> <span class="comment">*****************************************************************************/</span>
02124     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e17">LookAt</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vEye, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vAt, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vUp, <span class="keywordtype">bool</span> bRightHanded)
02125     {
02126         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> vForward, vUpNorm, vSide;
02127         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
02128 
02129         vForward = (bRightHanded) ? vEye - vAt : vAt - vEye;
02130 
02131         vForward.<a class="code" href="structPVRTVec3.html#a19">normalize</a>();
02132         vUpNorm = vUp.<a class="code" href="structPVRTVec3.html#a20">normalized</a>();
02133         vSide   = vUpNorm.<a class="code" href="structPVRTVec3.html#a22">cross</a>( vForward);
02134         vUpNorm = vForward.<a class="code" href="structPVRTVec3.html#a22">cross</a>(vSide);
<a name="l02135"></a><a class="code" href="structPVRTMat4.html#e8">02135</a> 
02136         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0]=vSide.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=vSide.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=vSide.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;        result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02137         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1]=vUpNorm.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=vUpNorm.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=vUpNorm.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02138         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2]=vForward.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=vForward.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=vForward.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=0;
02139         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]=0;          result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=0;          result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]=0;             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);
02140 
02141         <span class="comment">// TODO</span>
02142         result.<a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(-vEye);
02143         <span class="keywordflow">return</span> result;
02144     }
02145 
02146 <span class="comment">/*!***************************************************************************</span>
02147 <span class="comment"> @Function      Perspective</span>
02148 <span class="comment"> @Input         width       width of viewplane</span>
02149 <span class="comment"> @Input         height      height of viewplane</span>
02150 <span class="comment"> @Input         nearPlane   near clipping distance</span>
<a name="l02151"></a><a class="code" href="structPVRTMat4.html#e9">02151</a> <span class="comment"> @Input         farPlane    far clipping distance</span>
02152 <span class="comment"> @Input         cs          which clipspace convention is being used</span>
02153 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02154 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
02155 <span class="comment"> @Returns       Perspective matrix</span>
02156 <span class="comment"> @Description   Create a perspective matrix</span>
02157 <span class="comment">*****************************************************************************/</span>
02158     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(
02159         VERTTYPE width, VERTTYPE height,
02160         VERTTYPE nearPlane, VERTTYPE farPlane,
02161         <span class="keyword">const</span> eClipspace cs,
02162         <span class="keywordtype">bool</span> bRightHanded,
02163         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02164     {
02165         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> n2 = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(2),nearPlane);
02166         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> rcpnmf = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),(nearPlane - farPlane));
02167 
<a name="l02168"></a><a class="code" href="structPVRTMat4.html#e10">02168</a>         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
02169         <span class="keywordflow">if</span> (bRotate)
02170         {
02171             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(-n2,width); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02172             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,height);   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02173         }
02174         <span class="keywordflow">else</span>
02175         {
02176             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,width);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02177             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,height); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02178         }
02179         <span class="keywordflow">if</span> (cs == <a class="code" href="structPVRTMat4.html#w2w1">D3D</a>)
02180         {
02181             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(farPlane,rcpnmf);  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(farPlane,rcpnmf),nearPlane);
02182         }
<a name="l02183"></a><a class="code" href="structPVRTMat4.html#e11">02183</a>         <span class="keywordflow">else</span>
02184         {
02185             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(farPlane+nearPlane,rcpnmf);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(farPlane,rcpnmf),n2);
02186         }
02187         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]=<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(-1);  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=0;
02188 
02189         <span class="keywordflow">if</span> (!bRightHanded)
02190         {
02191             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10], <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(-1));
02192             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);
02193         }
02194 
02195         <span class="keywordflow">return</span> result;
02196     }
02197 
<a name="l02198"></a><a class="code" href="structPVRTMat4.html#e12">02198</a> <span class="comment">/*!***************************************************************************</span>
02199 <span class="comment"> @Function      Perspective</span>
02200 <span class="comment"> @Input         width       width of viewplane</span>
02201 <span class="comment"> @Input         height      height of viewplane</span>
02202 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02203 <span class="comment"> @Input         cs          which clipspace convention is being used</span>
02204 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02205 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
02206 <span class="comment"> @Returns       Perspective matrix</span>
02207 <span class="comment"> @Description   perspective calculation where far plane is assumed to be at an infinite distance and the screen</span>
02208 <span class="comment">                space Z is inverted</span>
02209 <span class="comment">*****************************************************************************/</span>
02210     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(
02211         VERTTYPE width, VERTTYPE height,
02212         VERTTYPE nearPlane,
02213         <span class="keyword">const</span> eClipspace cs,
<a name="l02214"></a><a class="code" href="structPVRTMat4.html#e13">02214</a>         <span class="keywordtype">bool</span> bRightHanded,
02215         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02216     {
02217         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> n2 = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(2,nearPlane);
02218 
02219         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
02220         <span class="keywordflow">if</span> (bRotate)
02221         {
02222             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(-n2,width); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02223             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,height);   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02224         }
02225         <span class="keywordflow">else</span>
02226         {
02227             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,width);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02228             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,height); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
<a name="l02229"></a><a class="code" href="structPVRTMat4.html#e14">02229</a>         }
02230         <span class="keywordflow">if</span> (cs == D3D)
02231         {
02232             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=nearPlane;
02233         }
02234         <span class="keywordflow">else</span>
02235         {
02236             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=(bRightHanded?(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)1:(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)-1);   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=n2;
02237         }
02238         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]= (bRightHanded?(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)-1:(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)1);  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)0;
02239 
02240         <span class="keywordflow">return</span> result;
02241     }
02242 
02243 <span class="comment">/*!***************************************************************************</span>
<a name="l02244"></a><a class="code" href="structPVRTMat4.html#e15">02244</a> <span class="comment"> @Function      Perspective</span>
02245 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02246 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02247 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02248 <span class="comment"> @Input         farPlane    far clipping distance</span>
02249 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02250 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02251 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
02252 <span class="comment"> @Returns       Perspective matrix</span>
02253 <span class="comment"> @Description   perspective calculation where field of view is used instead of near plane dimensions</span>
02254 <span class="comment">*****************************************************************************/</span>
02255     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e20">PerspectiveFov</a>(
02256         VERTTYPE fovy, VERTTYPE aspect,
02257         VERTTYPE nearPlane, VERTTYPE farPlane,
<a name="l02258"></a><a class="code" href="structPVRTMat4.html#e16">02258</a>         <span class="keyword">const</span> eClipspace cs,
02259         <span class="keywordtype">bool</span> bRightHanded,
02260         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02261     {
02262         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> height = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(2.0f),nearPlane),<a class="code" href="PVRTFixedPoint_8h.html#a34">PVRTTAN</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(fovy,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(0.5f))));
02263         <span class="keywordflow">if</span> (bRotate) <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(height, <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(height,aspect), nearPlane, farPlane, cs, bRightHanded, bRotate);
02264         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(height,aspect), height, nearPlane, farPlane, cs, bRightHanded, bRotate);
02265     }
02266 
02267 <span class="comment">/*!***************************************************************************</span>
02268 <span class="comment"> @Function      Perspective</span>
02269 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02270 <span class="comment"> @Input         aspect      aspect ratio of view</span>
<a name="l02271"></a><a class="code" href="structPVRTMat4.html#e17">02271</a> <span class="comment"> @Input         nearPlane   near clipping distance</span>
02272 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02273 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02274 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
02275 <span class="comment"> @Returns       Perspective matrix</span>
02276 <span class="comment"> @Description   perspective calculation where field of view is used instead of near plane dimensions</span>
02277 <span class="comment">                and far plane is assumed to be at an infinite distance with inverted Z range</span>
02278 <span class="comment">*****************************************************************************/</span>
02279     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e21">PerspectiveFovFloatDepth</a>(
02280         VERTTYPE fovy, VERTTYPE aspect,
02281         VERTTYPE nearPlane,
02282         <span class="keyword">const</span> eClipspace cs,
02283         <span class="keywordtype">bool</span> bRightHanded,
02284         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02285     {
02286         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> height = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(2,nearPlane), <a class="code" href="PVRTFixedPoint_8h.html#a34">PVRTTAN</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(fovy,0.5)));
02287         <span class="keywordflow">if</span> (bRotate) <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(height, <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(height,aspect), nearPlane, cs, bRightHanded, bRotate);
02288         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(height,aspect), height, nearPlane, cs, bRightHanded, bRotate);
02289     }
02290 };
02291 
02292 <span class="preprocessor">#endif </span><span class="comment">/*__PVRTVECTOR_H__*/</span>
02293 
02294 <span class="comment">/*****************************************************************************</span>
02295 <span class="comment">End of file (PVRTVector.h)</span>
02296 <span class="comment">*****************************************************************************/</span>
</pre></div><br>
<br>
<P align=left><FONT size=2><STRONG><A 
   href="http://www.imgtec.com/powervr/insider/legal/index.asp">Copyright</A> © 
   1999-2008, Imagination Technologies Ltd.</STRONG></FONT></P>
<hr>
<address style="align: left;"><small><FONT color=f0f>
Generated by <a href="http://www.doxygen.org/index.html">DOXYGEN</a> 1.3.6</small></address>
</body>
</html>
